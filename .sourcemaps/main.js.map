{"version":3,"sources":["../../src/pages/home/home.ts","../../src/pages/validator-detail/validator-detail.ts","../../src/pages/profile/profile.ts","../../src/providers/storage-service/storage-service.ts","../../src/pages/confirm-modal/confirm-modal.ts","../../src/pages/user-detail/user-detail.ts","../../src/providers/transaction-service/transaction-service.ts","../../node_modules/@angular/core/@angular lazy","../../src/providers/user-service/user-service.ts","../../src lazy","../../src/pages/login/login.ts","../../src/pages/login-email/login-email.ts","../../src/pages/signup-email/signup-email.ts","../../src/pages/search/search.ts","../../src/pages/apply/apply.ts","../../src/pages/send/send.ts","../../src/pages/wallet/wallet.ts","../../src/pages/settings/settings.ts","../../src/pages/welcome/welcome.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/providers/news-service/news-service.ts","../../src/providers/validator-service/validator-service.ts","../../src/providers/auth-service/auth-service.ts","../../src/components/news-card/news-card.ts","../../src/environments/environment.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { NavController, NavParams, Toast, ToastController } from 'ionic-angular';\r\nimport { NotificationsService } from 'angular2-notifications';\r\n\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport * as firebase from 'firebase/app';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { NewsService } from '../../providers/news-service/news-service';\r\nimport { ValidatorService } from '../../providers/validator-service/validator-service';\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { Individual } from '../../interfaces/individual-interface';\r\nimport { Organisation } from '../../interfaces/organisation-interface';\r\n\r\nimport { SearchPage } from '../search/search';\r\nimport { UserDetailPage } from '../user-detail/user-detail';\r\nimport { ValidatorDetailPage } from '../validator-detail/validator-detail';\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html',\r\n})\r\nexport class HomePage {\r\n\r\n  private toast: Toast;\r\n  private base64ImageData: string;\r\n  private user: User;\r\n  private userSub$: Subscription;\r\n\r\n  private selectedView: string = 'network';\r\n  private view: string = 'network';\r\n\r\n  private networkList: Array<any> = [];\r\n  private newsList: Array<any> = [];\r\n  private validatorList: Array<any> = [];\r\n\r\n  private myCoinBalance: number;\r\n  private allCoinBalance: number;\r\n  private myCoinName: string;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private notificationsService: NotificationsService,\r\n    private db: AngularFireDatabase,\r\n    private ds: DomSanitizer,\r\n    private toastCtrl: ToastController,\r\n    private userService: UserService,\r\n    private newsService: NewsService,\r\n    private validatorService: ValidatorService\r\n  ) { }\r\n\r\n  private openSearch(): void {\r\n    console.log(\"clicked openSearch\");\r\n    this.navCtrl.push(SearchPage);\r\n  }\r\n\r\n  private goToUserDetail(user): void {\r\n    this.navCtrl.push(UserDetailPage, user);\r\n  }\r\n\r\n  private goToValidatorDetail(validator): void {\r\n    this.navCtrl.push(ValidatorDetailPage, validator);\r\n  }\r\n\r\n  private selectNetwork(): void {\r\n    this.selectedView = 'network';\r\n  }\r\n\r\n  private selectNews(): void {\r\n    this.selectedView = 'news';\r\n  }\r\n\r\n  private selectValidators(): void {\r\n    this.selectedView = 'validators';\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n\r\n    this.userSub$ = this.userService.user$.subscribe(\r\n      user => {\r\n        if (!user.agreedToDisclaimer) {\r\n          //if they got this far then they have agreed to the disclaimer\r\n          this.userService.updateUser({agreedToDisclaimer:true});\r\n        }\r\n\r\n        if (this.userService.type === 'organisation') {\r\n          this.user = user as Organisation;\r\n        }\r\n        else {\r\n          this.user = user as Individual;\r\n          this.myCoinName = user.wallet[user.uid].title;\r\n          this.myCoinBalance = user.wallet[user.uid].amount;\r\n          this.allCoinBalance = user.balance;\r\n        }\r\n      }\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { NewsService } from '../../providers/news-service/news-service';\r\nimport { User } from '../../interfaces/user-interface';\r\n\r\nimport { ApplyPage } from '../../pages/apply/apply';\r\n\r\nimport { Validator } from '../../interfaces/validator-interface';\r\nimport { ValidatorService } from '../../providers/validator-service/validator-service';\r\n\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\n@Component({\r\n  selector: 'page-validator-detail',\r\n  templateUrl: 'validator-detail.html',\r\n})\r\nexport class ValidatorDetailPage {\r\n\r\n  private user: User;\r\n  private validator: Validator = {} as Validator;\r\n  private userSub$: Subscription;\r\n  private trusted: boolean = false;\r\n  private applied: boolean = false;\r\n\r\n  private trustedUsers: Array<User>;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private userService: UserService,\r\n    private newsService: NewsService,\r\n    private validatorService: ValidatorService\r\n  ) {\r\n    this.validator = navParams.data;\r\n  }\r\n\r\n  private revokeTrust() {\r\n    this.validator.trustedUsers.filter(\r\n      user => user !== this.user.uid\r\n    );\r\n    this.trusted = false;\r\n    this.validatorService.revokeValidation(this.user,this.validator);\r\n    this.newsService.revokeValidatorTrust(this.validator);\r\n    this.userService.saveUser();\r\n    this.validatorService.saveValidator(this.validator);\r\n  }\r\n\r\n  private checkRequirements() {\r\n    let rqs = this.validatorService.getValidatorRequirements(this.validator, this.user);\r\n    this.navCtrl.push(ApplyPage, {validator:this.validator, user:this.user, reqs: rqs});\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.userSub$ = this.userService.user$.subscribe(\r\n      user => {\r\n\r\n        this.user = user;\r\n        this.trustedUsers = [];\r\n        this.trusted = false;\r\n        this.applied = false;\r\n        if (this.user.validators) {\r\n          for (let vKey of this.user.validators) {\r\n            if (this.validator.$key == vKey)\r\n              this.trusted = true;\r\n          }\r\n        }\r\n        if (this.validator.trustedUsers) {\r\n          for (let tUserKey of this.validator.trustedUsers) {\r\n            let u = this.userService.users[tUserKey];\r\n            this.trustedUsers.push(u);\r\n          }\r\n        }\r\n        if (this.validator.appliedUsers) {\r\n          if (this.validator.appliedUsers.find(u => u === this.user.uid)) {\r\n            this.applied = true;\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/validator-detail/validator-detail.ts","import { Component } from '@angular/core';\r\nimport { Loading, LoadingController, NavController, NavParams, Toast, ToastController } from 'ionic-angular';\r\nimport { NotificationsService } from 'angular2-notifications';\r\n\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/storage';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport { AuthService } from '../../providers/auth-service/auth-service';\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { NewsService } from '../../providers/news-service/news-service';\r\nimport { ValidatorService } from '../../providers/validator-service/validator-service';\r\nimport { StorageService, UploadImage, UploadFile } from '../../providers/storage-service/storage-service';\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { Individual } from '../../interfaces/individual-interface';\r\n\r\nimport { SearchPage } from '../search/search';\r\nimport { UserDetailPage } from '../user-detail/user-detail';\r\n\r\n@Component({\r\n  selector: 'page-profile',\r\n  templateUrl: 'profile.html',\r\n})\r\nexport class ProfilePage {\r\n\r\n  private toast: Toast;\r\n  private base64ImageData: string;\r\n  private imageBlob: Blob;\r\n  private profilePicURL: any;\r\n  public debugText: string = '';\r\n\r\n  private userSub$: Subscription;\r\n  private providers: Array<any>;\r\n  private user: User = {} as User;\r\n\r\n  private loading: Loading;\r\n  private fileSelected: any;\r\n  private profilePicUpload: UploadImage | UploadFile;\r\n\r\n  constructor(\r\n    private db: AngularFireDatabase,\r\n    private authService: AuthService,\r\n    private ds: DomSanitizer,\r\n    private loadingCtrl: LoadingController,\r\n    private navCtrl: NavController,\r\n    private notificationsService: NotificationsService,\r\n    private sanitizer: DomSanitizer,\r\n    private storageService: StorageService,\r\n    private toastCtrl: ToastController,\r\n    private userService: UserService,\r\n    private validatorService: ValidatorService\r\n  ) { }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad ProfilePage');\r\n\r\n    this.userSub$ = this.userService.user$.subscribe(\r\n      user => {\r\n        this.user = user;\r\n        if (this.user.profilePicURL) {\r\n          this.profilePicURL = this.user.profilePicURL;\r\n        }\r\n        this.providers = this.validatorService.userProviders;\r\n      }\r\n    );\n\n    // document.addEventListener('DOMContentLoaded',function() {\r\n    //   debugger;\r\n    document.getElementById('file').onchange = this.fileChangeEvent.bind(this);\n    //   debugger;\n    // }\n    //});\r\n  }\r\n\r\n  public fileChangeEvent(fileInput: any) {\r\n    if (fileInput.target.files && fileInput.target.files[0]) {\r\n      this.debugText += 'fileChangeEvent';\r\n\r\n      var reader = new FileReader();\r\n\r\n      reader.onload = (e) => {\r\n        this.profilePicURL = e.target['result'];\r\n        this.base64ImageData = this.profilePicURL.substring(23);\r\n        this.profilePicUpload = new UploadImage(this.base64ImageData, this.user.uid);\r\n      }\r\n\r\n      reader.readAsDataURL(fileInput.target.files[0]);\r\n\r\n      // var reader = new FileReader();\r\n      // reader.onload = (e) => {\r\n      //   let img = new Image;\r\n      //   img.src = reader.result;\r\n      //   img.onload = ( (file) => {\r\n      //     this.debugText += 'onload:' +img.height+','+img.width;\r\n      //     this.storageService.resizePicFile(fileInput.target.files, img.height, img.width).subscribe(\r\n      //       (imageBlob) => {\n      //         this.debugText += 'imageBlob: '+imageBlob;\r\n      //         this.profilePicURL = URL.createObjectURL(imageBlob);\r\n      //         this.base64ImageData = this.profilePicURL.substring(23);\r\n      //         this.profilePicUpload = new UploadFile(imageBlob as File, this.user.uid);\r\n      //       },\r\n      //       (error) => this.debugText += error\r\n      //     );\r\n      //   });\r\n      //}\r\n\r\n      //reader.readAsDataURL(fileInput.target.files[0]);\r\n    }\r\n  }\r\n\r\n\r\n  private fileUpload() {\r\n\r\n    this.loading = this.loadingCtrl.create({\r\n      content: 'Uploading ...',\r\n      //dismissOnPageChange: true\r\n    });\r\n    this.loading.present();\r\n\r\n    let progressIntervalObs$ = Observable.interval(200).subscribe(() => {\r\n      this.loading.data.content = this.sanitizer.bypassSecurityTrustHtml(\r\n        '<p>Saving Profile ...</p><progress value=\"' + this.profilePicUpload.progress + '\" max=\"100\"></progress>'\r\n      );\r\n    });\r\n\r\n    this.storageService.uploadFile(this.profilePicUpload).then(\r\n      //this.storageService.uploadFile(this.profilePicUpload).then(\r\n      (profileURL) => {\r\n        this.user.profilePicURL = profileURL;\r\n        progressIntervalObs$.unsubscribe();\r\n        this.loading.dismiss();\r\n        this.userService.updateUser({ profilePicURL: this.user.profilePicURL });\r\n      },\r\n      (error) => {\r\n        progressIntervalObs$.unsubscribe();\r\n        this.toast = this.toastCtrl.create({\r\n          message: error.message + ': ' + error.details,\r\n          duration: 2500,\r\n          position: 'middle'\r\n        });\r\n        console.error(error);\r\n        this.toast.present();\r\n      }\r\n    );\r\n  }\r\n\r\n  private saveProfile() {\r\n    if (this.userService.type == 'individual') {\r\n      let u = this.user as Individual;\r\n      this.user.displayName = u.firstName + ' ' + u.lastName;\r\n    }\r\n    else {\r\n\r\n    }\r\n\r\n    if (this.user.email != firebase.auth().currentUser.email) {\r\n      firebase.auth().currentUser.updateEmail(this.user.email).then(\r\n        (result) => this.sendEmailVerif(),\r\n        (error) => {\r\n          this.toast = this.toastCtrl.create({\r\n            message: 'Error updating email: ' + error,\r\n            duration: 2500,\r\n            position: 'middle'\r\n          });\r\n          console.error(error);\r\n          this.toast.present();\r\n        }\r\n      );\r\n    }\r\n\r\n    this.userService.saveUser();\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  private gotoProvider(prov) {\r\n    //todo: deal with photo/email etc\r\n    if (\r\n      prov.completed ||\r\n      prov.displayName == 'Profile Photo' ||\r\n      prov.displayName == 'Passport' ||\r\n      prov.displayName == 'Steam' ||\r\n      prov.displayName == 'SoundCloud'\r\n    ) {\r\n      return;\r\n    }\r\n    else if (prov.displayName == 'Email') {\r\n      this.sendEmailVerif();\r\n    }\r\n    else {\r\n      var provider;\r\n\r\n      //todo: not firing\r\n      // firebase.auth().getRedirectResult().then(\r\n      //   (result) => {\r\n      //     console.log(result);\r\n      //     debugger;\r\n      //     if (result.credential) {\r\n      //       // Accounts successfully linked.\r\n      //       var credential = result.credential;\r\n      //       var user = result.user;\r\n      //       // ...\r\n      //     }\r\n      //   },\r\n      //   (error) => {\r\n      //     console.log(error);\r\n      //   }\r\n      // );\r\n\r\n      switch (prov.displayName) {\r\n        case 'Facebook': {\r\n          provider = new firebase.auth.FacebookAuthProvider();\r\n        }\r\n          break;\r\n        case 'Google': {\r\n          provider = new firebase.auth.GoogleAuthProvider();\r\n        }\r\n          break;\r\n        case 'Github': {\r\n          provider = new firebase.auth.GithubAuthProvider();\r\n        }\r\n          break;\r\n        case 'Twitter': {\r\n          provider = new firebase.auth.TwitterAuthProvider();\r\n        }\r\n          break;\r\n      }\r\n\r\n      this.authService.linkRedirect(provider).then(\r\n        (result) => {\r\n          var credential = result.credential;\r\n          var user = result.user;\r\n          // ...\r\n        },\r\n        (error) => {\r\n          this.toast = this.toastCtrl.create({\r\n            message: 'Error linking accounts: ' + error,\r\n            duration: 2500,\r\n            position: 'middle'\r\n          });\r\n          console.error(error);\r\n          this.toast.present();\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  sendEmailVerif() {\r\n    firebase.auth().currentUser.sendEmailVerification().then(\r\n      (result) => {\r\n        let msg = 'Verification Email sent to: ' +this.user.email;\r\n        this.notificationsService.create('Revoke', msg, 'warn');\r\n      },\r\n      (error) => {\r\n        this.toast = this.toastCtrl.create({\r\n          message: 'Error sending email verification: ' + error,\r\n          duration: 2500,\r\n          position: 'middle'\r\n        });\r\n        console.error(error);\r\n        this.toast.present();\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts","import { Injectable } from '@angular/core';\nimport { Toast, ToastController } from 'ionic-angular';\n\nimport { Ng2PicaService } from 'ng2-pica';\nimport * as firebase from 'firebase/app';\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\nimport 'rxjs/add/operator/map';\nimport { Observer } from 'rxjs/Observer';\nimport { Observable } from 'rxjs/Observable';\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nimport { Subject } from 'rxjs/Subject';\n\n\nexport class Upload {\n  $key: string;\n  createdAt: Date = new Date();\n  name: string;\n  owner: string;\n  progress: number;\n  size:number;\n  url: string;\n}\n\nexport class UploadImage extends Upload {\n  base64String: string;\n  constructor(base64String: string, owner:string) {\n    super();\n    this.owner = owner;\n    this.base64String = base64String;\n  }\n}\n\nexport class UploadFile extends Upload {\n  file: File;\n  constructor(file: File, owner:string) {\n    super();\n    this.owner = owner;\n    this.file = file;\n  }\n}\n\n@Injectable()\nexport class StorageService {\n\n  private profilePicRef: any;\n\n  private toast: Toast;\n\n  private uploads: FirebaseListObservable<Upload[]>;\n\n  private progressSubject$: Subject<number> = new Subject(); //3 should add smoothing?!?\n  public progress$: Observable<number>;\n  public loading$: Observer<any>;\n\n  constructor(\n    private db: AngularFireDatabase,\n    private pica: Ng2PicaService,\n    private toastCtrl: ToastController\n  ) {\n    this.profilePicRef = firebase.storage().ref('/profilepics');\n    this.progress$ = this.progressSubject$.asObservable();\n\n    this.uploads = this.db.list('/uploads');\n  }\n\n  resizeAndUploadProfilePic(upload: UploadImage): Promise<any> {\n\n    return this.resizeProfilePic(upload, 1024, 768).then(\n      uploadResized => {\n        return this.uploadFile(uploadResized);\n      }\n    )\n  }\n\n  public resizePicFile(files: File[], sourceHeight:number, sourceWidth:number): Observable<any> { //}: Promise<Upload>{\n\n    let fileList = Array.from(files);\n\n    let maxHeight = 1024;\n    let maxWidth = 768;\n    let h,w;\n\n    if (sourceHeight > sourceWidth) {\n      let ratio = maxHeight/sourceHeight;\n      h = maxHeight;\n      w = sourceWidth * ratio;\n    }\n    else if (sourceWidth >= sourceHeight){\n      let ratio = maxWidth/sourceWidth;\n      w = maxWidth;\n      h = sourceHeight * ratio;\n    }\n\n    return this.pica.resize(fileList, w, h);\n  }\n\n  public async resizeProfilePic(upload: UploadImage, maxHeight:number, maxWidth:number): Promise<Upload>{\n    return new Promise<Upload>((resolve, reject) => {\n\n      let img = new Image;\n      img.src = upload.base64String;\n\n      img.onload = ( (file) => {\n\n        var canvas = document.createElement('canvas');\n        var ctx = canvas.getContext('2d');\n        let h,w;\n\n        ctx.drawImage(img, 0, 0);\n\n        if (img.height > img.width) {\n          let ratio = img.width/img.height;\n          h = maxHeight;\n          w = img.width * ratio;\n        }\n        else if (img.width >= img.height){\n          let ratio = img.height/img.width;\n          w = maxWidth;\n          h = img.height * ratio;\n        }\n\n        var canvas2 = document.createElement('canvas');\n        var ctx2 = canvas.getContext('2d');\n        // We set the dimensions at the wanted size.\n        canvas.width = w;\n        canvas.height = h;\n        this.pica.resizeCanvas(canvas, canvas2, {\n          unsharpAmount: 80,\n          unsharpRadius: 0.6,\n          unsharpThreshold: 2\n        })\n        .then(\n          result => {\n\n          }\n        )\n        resolve(upload);\n      });\n\n      img.onerror = ((error) => {\n        let err = {details:error,message:'Error loading as image'};\n        reject(err);\n      });\n    });\n  }\n\n  public async uploadFile(upload: Upload){\n\n    let uploadTask;\n    if (upload instanceof UploadImage) {\n      let c = this.profilePicRef.child(upload.owner+'.jpg');\n      uploadTask = c.putString(upload.base64String, 'base64', { contentType: 'image/jpg' });\n    }\n    else if (upload instanceof UploadFile) {\n      let c = this.profilePicRef.child(upload.owner+'.jpg');\n      uploadTask = c.put(upload.file);\n    }\n\n    return new Promise<string> ((resolve,reject) => {\n      uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\n        (snapshot) => {\n          upload.progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n          console.log('Upload is ' + upload.progress + '% done');\n          switch (snapshot.state) {\n            case firebase.storage.TaskState.PAUSED: // or 'paused'\n              console.log('Upload is paused');\n              break;\n            case firebase.storage.TaskState.RUNNING: // or 'running'\n              console.log('Upload is running');\n              break;\n          }\n        },\n        (error) => {\n          let err = {details:error,message:'Error uploading image'};\n          reject(err);\n        },\n        () => {\n          // Upload completed successfully, now we can get the download URL\n          console.log('Upload Complete');\n          //upload.progress = 100;\n          let uploadLogEntry = {\n            createdAt: upload.createdAt,\n            name: uploadTask.snapshot.metadata.name,\n            size: uploadTask.snapshot.metadata.size,\n            url:uploadTask.snapshot.downloadURL\n          }\n          this.saveFileData(uploadLogEntry);\n          resolve(uploadTask.snapshot.downloadURL);\n        }\n      );\n    });\n  }\n\n  public isUploadSupported(): boolean {\n    if (navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\\/(1.0|2.0|2.5|3.0))/)) {\n      return false;\n    }\n    var elem = document.createElement('input');\n    elem.type = 'file';\n    return !elem.disabled;\n  }\n\n  // Writes the file details to the realtime db\n  private saveFileData(uploadLogEntry: any) {\n    this.uploads.push(uploadLogEntry);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/storage-service/storage-service.ts","import { Component } from '@angular/core';\r\nimport { NavParams, ViewController } from 'ionic-angular';\r\n\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { User } from '../../interfaces/user-interface';\r\n\r\n@Component({\r\n  selector: 'page-confirm-modal',\r\n  templateUrl: 'confirm-modal.html',\r\n})\r\nexport class ConfirmModal {\r\n\r\n  private message: string;\r\n  private title: string;\r\n\r\n  constructor(\r\n    public navParams: NavParams,\r\n    private viewCtrl: ViewController\r\n  ) {\r\n    this.message = navParams.get('message');\r\n    this.title = navParams.get('title');\r\n  }\r\n\r\n\r\n  private confirm(decision): void {\r\n    this.viewCtrl.dismiss(decision).catch((err) => console.log('view was not dismissed: '+err));;\r\n  }\r\n\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad ConfirmModalPage');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/confirm-modal/confirm-modal.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { NewsService } from '../../providers/news-service/news-service';\r\nimport { TransactionService } from '../../providers/transaction-service/transaction-service';\r\nimport { ValidatorService } from '../../providers/validator-service/validator-service';\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { Validator } from '../../interfaces/validator-interface';\r\n\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { SendPage } from '../send/send';\r\n\r\n@Component({\r\n  selector: 'page-user-detail',\r\n  templateUrl: 'user-detail.html',\r\n})\r\nexport class UserDetailPage {\r\n\r\n  private user: User = {} as User;\r\n  private viewUser: User;\r\n  private userSub$: Subscription;\r\n  private trustTo: boolean = false;\r\n  private trustFrom: boolean = false;\r\n  private validatorTrust: boolean = false;\r\n  private trusted: boolean = false;\r\n  private validatedBy: Validator = {} as Validator;\r\n\r\n  private profilePicURL: string;\r\n\r\n  constructor(\r\n    private navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private userService: UserService,\r\n    private newsService: NewsService,\r\n    private transactionService: TransactionService,\r\n    private validatorService: ValidatorService\r\n  ) {\r\n    this.viewUser = navParams.data;\r\n    console.log(navParams.data);\r\n  }\r\n\r\n  private revokeTrust() {\r\n    this.newsService.revokeUserTrust(this.viewUser);\r\n    this.userService.removeTrustedUser(this.viewUser.uid);\r\n  }\r\n\r\n  private affordTrust() {\r\n    this.newsService.addTrust(this.viewUser);\r\n    this.userService.addTrustedUser(this.viewUser.uid);\r\n  }\r\n\r\n  private sendCircles () {\r\n    this.navCtrl.push(SendPage, this.viewUser);\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.userSub$ = this.userService.user$.subscribe(\r\n      user => {\r\n        this.user = user;\r\n        if (this.viewUser.profilePicURL)\r\n          this.profilePicURL = this.viewUser.profilePicURL;\r\n        if (this.user.trustedUsers) {\r\n          this.trustTo = this.user.trustedUsers.some(tUserKey => {\r\n            return tUserKey == this.viewUser.uid;\r\n          });\r\n        }\r\n        if (this.viewUser.trustedUsers) {\r\n          this.trusted = this.trustFrom = this.viewUser.trustedUsers.some(tUserKey => {\r\n            return tUserKey == this.user.uid;\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user-detail/user-detail.ts","import { Injectable, OnDestroy } from '@angular/core';\r\n\r\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\r\nimport * as firebase from 'firebase/app';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport { NewsService } from '../../providers/news-service/news-service';\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { NewsItem } from '../../interfaces/news-item-interface';\r\nimport { LogItem } from '../../interfaces/log-item-interface';\r\n\r\n@Injectable()\r\nexport class TransactionService implements OnDestroy {\r\n\r\n  public transact: Subject<any> = new Subject<any>();\r\n\r\n  private user: User;\r\n  private userSub$: Subscription;\r\n  private transactionLog$: FirebaseListObservable<LogItem[]>;\r\n\r\n  constructor(\r\n    private db: AngularFireDatabase,\r\n    private newsService: NewsService,\r\n    private userService: UserService\r\n  ) {\r\n\r\n    this.userSub$ = this.userService.user$.subscribe(\r\n      user => this.user = user,\r\n      error => console.error(error),\r\n      () => console.log('transaction-service constructor userSub$ obs complete')\r\n    );\r\n\r\n    this.transactionLog$ = this.db.list('/transactions/');\r\n  }\r\n\r\n  private  async transfer(toUser:User, amount:number) {\r\n\r\n    amount = Number(amount);\r\n    let sentCoins = [];\r\n\r\n    let trusted = this.getTrustIntersection(this.user, toUser);\r\n    if (trusted.balance < amount) {\r\n      //we don't have enough trusted coins\r\n      return false;\r\n    }\r\n    for (let coin of trusted.trustedCoins) {\r\n      if (amount > coin.amount) {\r\n        let c = Object.assign({}, coin);;\r\n        sentCoins[coin.owner] = c;\r\n        coin.amount = 0;\r\n      }\r\n      else {\r\n        let c = Object.assign({}, coin);\r\n        c.amount = amount;\r\n        sentCoins[coin.owner] = c;\r\n        coin.amount -= amount;\r\n      }\r\n    }\r\n    this.user.balance -= amount;\r\n\r\n    //now we need to update the other wallet\r\n    toUser.balance += amount;\r\n    for (let key in sentCoins) {\r\n      if (toUser.wallet[key]) {\r\n        toUser.wallet[key].amount += sentCoins[key].amount;\r\n      }\r\n      else {\r\n        toUser.wallet[key] = sentCoins[key];\r\n      }\r\n    }\r\n\r\n    try {\r\n      await this.db.object('/users/'+toUser.uid+'/userData').update({\r\n        wallet: toUser.wallet,\r\n        balance: toUser.balance\r\n      });\r\n    }\r\n    catch (error) {\r\n      console.error(error);\r\n      throw new Error(\"Send fail\");\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private logTransfer(toUser:User, amount:number):void {\r\n\r\n    let logItem = {\r\n      \"from\" : this.user.uid,\r\n      \"to\" : toUser.uid,\r\n      \"timestamp\" : firebase.database['ServerValue']['TIMESTAMP'],\r\n      \"amount\" : amount\r\n    } as LogItem;\r\n\r\n    //add to the main transaction log\r\n    this.transactionLog$.push(logItem);\r\n  }\r\n\r\n  public createTransactionIntent(toUserId:string, amount:number, message?:string): Promise<any> {\r\n    let p = new Promise( (resolve, reject) => {\r\n      let toUser = this.userService.keyToUser(toUserId);\r\n      if(this.transfer(toUser, amount)) {\r\n\r\n        this.logTransfer(toUser, amount);\r\n        this.newsService.addTransaction(toUser, amount, message);\r\n        resolve(true);\r\n      }\r\n      else\r\n        reject(new Error(\"Transfer Failed\"));\r\n    });\r\n\r\n    return p;\r\n  }\r\n\r\n  //which of the receivingUser's trusted coins does the sendingUser have?\r\n  private getTrustIntersection(sendingUser:User, receivingUser:User) {\r\n    let returnArray = [];\r\n    let sum = 0;\r\n    let rTrusts = receivingUser.trustedUsers as string[];\r\n\r\n    if (receivingUser.trustedUsers) {\r\n      for (let tUserKey of rTrusts) {\r\n        if (sendingUser.wallet[tUserKey]) {\r\n          sum += this.user.wallet[tUserKey].amount;\r\n          let p = this.user.wallet[tUserKey].priority;\r\n          returnArray[p] = this.user.wallet[tUserKey];\r\n        }\r\n      }\r\n    }\r\n    return {trustedCoins:returnArray,balance:sum};\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.userSub$.unsubscribe();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/transaction-service/transaction-service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 204;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 204\n// module chunks = 0","import { Injectable, OnDestroy } from '@angular/core';\r\n\r\nimport { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2/database';\r\nimport * as firebase from 'firebase/app';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\r\nimport 'rxjs/add/operator/find';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { Individual } from '../../interfaces/individual-interface';\r\nimport { Organisation } from '../../interfaces/organisation-interface';\r\n\r\nimport { Coin } from '../../interfaces/coin-interface';\r\n//import { Validator } from '../../interfaces/validator-interface';\r\nimport { NewsItem } from '../../interfaces/news-item-interface';\r\n\r\n@Injectable()\r\nexport class UserService implements OnDestroy {\r\n\r\n  public users: any;\r\n  public type: string;\r\n  public authProviders: Array<string>;\r\n\r\n  public user$: Observable<User>;\r\n  public userFirebaseObj$: FirebaseObjectObservable<User>;\r\n  public usersFirebaseList$: FirebaseListObservable<any>;\r\n  private usersSubject$: ReplaySubject<Array<any>> = new ReplaySubject<Array<any>>(1);\r\n  public users$ = this.usersSubject$.asObservable();\r\n\r\n  private user = {} as User;\r\n  private userSubject$: ReplaySubject<User> = new ReplaySubject<User>(1);\r\n\r\n  private userSub$: Subscription;\r\n  private usersSub$: Subscription;\r\n  private combinedSub$: Subscription;\r\n  private weeklyGrant: number = 100;\r\n  private myCoins: Coin = {} as Coin;\r\n  private allCoins: { [key: string]: Coin };\r\n  private trustedUsersNetwork: Array<any> = [];\r\n\r\n  constructor(private db: AngularFireDatabase) {\r\n\r\n    this.user.createdAt = 0;\r\n    this.user$ = this.userSubject$.asObservable();\r\n    this.usersFirebaseList$ = this.db.list('/users/');\r\n    this.usersSub$ = this.usersFirebaseList$.subscribe(\r\n      users => {\r\n        this.users = [];\r\n        for (let u of users) {\r\n          this.users[u.$key] = u.userData;\r\n        }\r\n        this.usersSubject$.next(users);\r\n      },\r\n      error => console.log('Could not load users.')\r\n    );\r\n  }\n\n  public initialise(authProviders, initUser) {\r\n    this.authProviders = authProviders.map(\r\n      (provider) => {\r\n        return provider.providerId.split('.')[0];\r\n      }\r\n    );\r\n    this.authProviders = this.authProviders.concat(initUser.authProviders);\r\n\r\n    if (!this.isOrg(initUser))\r\n      this.type = 'individual';\r\n    else\r\n      this.type = 'organisation';\r\n\r\n    this.userFirebaseObj$ = this.db.object('/users/' + initUser.uid + '/userData');\r\n    this.userSub$ = this.userFirebaseObj$.subscribe(\r\n      user => {\r\n        this.user = user;\r\n        this.user.authProviders = this.authProviders;\r\n        this.setBalance(user);\r\n        this.userSubject$.next(this.user);\r\n      },\r\n      error => console.log('Could not load current user record.')\r\n    );\r\n\r\n    this.combinedSub$  = Observable.combineLatest(this.userFirebaseObj$, this.usersFirebaseList$).subscribe(\r\n      (result) => {\r\n        let user = result[0];\r\n        let users = result[1];\r\n        this.trustedUsersNetwork = [];\r\n\r\n        if (!this.users) {\r\n          this.users = [];\r\n          for (let u of users) {\r\n            this.users[u.$key] = u.userData;\r\n          }\r\n          this.usersSubject$.next(users);\r\n        }\r\n\r\n        if (user.trustedUsers || user.trustedBy) { //arrow-dropright-circle\r\n          //this.trustedUsersNetwork = user.trustedUsers.map( (uKey:string) => this.keyToUser(uKey));\n          let tToUsers = user.trustedUsers.slice(0);\n          let tByUsers = user.trustedBy.slice(0);\n          tToUsers =  tToUsers.filter(\n            (tUser:string) => {\n              let found = false;\n              tByUsers = tByUsers.filter(\n                (tByUser:string) => {\n                  if (tByUser === tUser) {\n                    let u = this.keyToUser(tByUser) as any;\n                    u.icon = \"checkmark-circle\";\n                    this.trustedUsersNetwork.push(u);\n                    found = true;\n                    return false;\n                  }\n                  return true;\n                }\n              );\n              return !found;\n            }\n          );\n          tToUsers.map((tUserKey:string) => {\n            let u = this.keyToUser(tUserKey) as any;\n            u.icon = \"arrow-dropleft-circle\";\n            this.trustedUsersNetwork.push(u);\n          });\n          tByUsers.map((tUserKey:string) => {\n            let u = this.keyToUser(tUserKey) as any;\n            u.icon = \"arrow-dropright-circle\";\n            this.trustedUsersNetwork.push(u);\n          });\n        }\r\n      }\r\n    );\n  }\r\n\r\n  public createCirclesUser(authUser,formUser): Individual | Organisation {\r\n\r\n    formUser.createdAt = firebase.database['ServerValue']['TIMESTAMP'];\r\n\r\n    let providers = ['name'];\r\n    debugger;\r\n    if (formUser.email === authUser.email && authUser.emailVerified) {\r\n      providers.push('email');\r\n    }\r\n    if (formUser.profilePicURL) {\r\n      providers.push('photo');\r\n    }\r\n    else {\r\n      formUser.profilePicURL = \"https://firebasestorage.googleapis.com/v0/b/circles-testnet.appspot.com/o/profilepics%2FGeneric_Image_Missing-Profile.jpg?alt=media&token=f1f08984-69f3-4f25-b505-17358b437d7a\";\r\n    }\r\n    //providers.push(authUser.providerData[0].providerId);\r\n    formUser.authProviders = providers;\r\n    formUser.agreedToDisclaimer = false;\r\n\r\n    if (!this.isOrg(formUser)) {\r\n      formUser.displayName = formUser.firstName + ' ' + formUser.lastName;\r\n      this.user = this.setInitialWallet(formUser);\r\n    }\r\n    else {\r\n      this.user = formUser;\r\n    }\r\n    return this.user;\r\n  }\r\n\r\n  public keyToUser$(key: string): Observable<User> {\r\n    return this.users$.map(\r\n      users => users.find(user => user.uid === key).userData\r\n    );\r\n  }\r\n\r\n  public keyToUser(key: string): User {\r\n    let u = this.users[key];\r\n    if (!u)\r\n      console.log('Error: missing user '+key);\r\n    return u;\r\n  }\r\n\r\n  public keyToUserName$(key: string): Observable<string> {\r\n    return this.users$.map(users => {\r\n      let u = users.find(user => user.uid === key);\r\n      return u.displayName;\r\n    });\r\n  }\r\n\r\n  public keyToUserName(key: string): string {\r\n    let d = this.users[key];\r\n    if (!d)\r\n      console.log('Error: missing user '+key);\r\n    return d.displayName;\r\n  }\r\n\r\n  public filterUsers$(searchTerm: string) {\r\n    //if (!searchTerm)\r\n    //  return Observable.empty(); //todo: should this return an observable(false) or something?\r\n    return this.users$.map((users) => {\r\n      users = users.map((userRecord) => {\r\n        return userRecord.userData;\r\n      });\r\n\r\n      let ret = users.filter((user) => {\r\n        //let user = userRecord.userData as User;\r\n        if (!user || !user.displayName || user.displayName == '' || user.uid == 'undefined' || (user.uid == this.user.uid))\r\n          return false;\r\n        let s = searchTerm.toLowerCase();\r\n        let d = user.displayName.toLowerCase();\r\n        return d.indexOf(s) > -1;\r\n      });\r\n      return ret;\r\n    });\r\n  }\r\n\r\n  public addTrustedUser(userKey) {\r\n    if (this.user.trustedUsers)\r\n      this.user.trustedUsers.push(userKey);\r\n    else\r\n      this.user.trustedUsers = [userKey];\r\n\r\n    this.updateUser({trustedUsers:this.user.trustedUsers});\r\n  }\r\n\r\n  public removeTrustedUser(userKey) {\r\n    this.user.trustedUsers = this.user.trustedUsers.filter(user => {\r\n\t     return user != userKey;\r\n    });\r\n    this.updateUser({trustedUsers:this.user.trustedUsers});\r\n  }\r\n\r\n  private setInitialWallet(user:Individual): Individual {\r\n    let now = new Date();\r\n    let day = now.getDay();\r\n    let diff = (7 - 5 + day) % 7;\r\n    let b = this.weeklyGrant - ((this.weeklyGrant / 7) * (diff));\r\n    this.myCoins.amount = Math.round(b);\r\n    this.myCoins.owner = user.uid;\r\n    this.myCoins.title = (user.firstName) ? user.firstName + ' Coin' : 'Circle Coin';\r\n    //my coins start at the highest priority\r\n    this.myCoins.priority = 0;\r\n    this.myCoins.createdAt = now.getTime();\r\n    this.allCoins = {\r\n      [user.uid]: this.myCoins\r\n    };\r\n    user.wallet = this.allCoins;\r\n    this.setBalance(user);\r\n    return user;\r\n  }\r\n\r\n  public setBalance(user:User): void {\r\n    let total = 0;\r\n    for (let i in user.wallet) {\r\n      total += user.wallet[i].amount;\r\n    }\r\n    user.balance = total;\r\n  }\r\n\r\n  public signOut() {\r\n    //todo: better way to do this?\r\n    if (this.userSub$)\r\n      this.userSub$.unsubscribe();\r\n\r\n    if (this.usersSub$)\r\n      this.usersSub$.unsubscribe();\r\n\r\n    if (this.combinedSub$)\r\n      this.combinedSub$.unsubscribe();\r\n  }\r\n\r\n  private clearUser() {\r\n    let blankUser = {} as User;\r\n    this.user = blankUser;\r\n    // if (this.userSubject$) {\r\n    //   this.userSubject$.next(blankUser);\r\n    // }\r\n  }\r\n\r\n  public async updateUser(updateObject: Object) {\r\n    try {\r\n      let result = await this.userFirebaseObj$.update(updateObject);\r\n      console.log('updateUser success');\r\n    } catch (error) {\r\n      console.error(error);\r\n      throw new Error(\"userService updateUser fail\");\r\n    }\r\n  }\r\n\r\n  public async saveUser() {\r\n    try {\r\n      let result = await this.userFirebaseObj$.set(this.user);\r\n      console.log('saveUser success');\r\n    } catch (error) {\r\n      console.error(error);\r\n      throw new Error(\"userService saveUser fail\");\r\n    }\r\n  }\r\n\r\n  public isOrg(user: Individual | Organisation): user is Organisation {\r\n    return (<Organisation>user).address !== undefined;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.userSub$.unsubscribe();\r\n    this.usersSub$.unsubscribe();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user-service/user-service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 247;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 247\n// module chunks = 0","import { Component } from '@angular/core';\r\nimport { IonicPage, Loading, LoadingController, NavParams, NavController } from 'ionic-angular';\r\n\r\nimport { Observable } from 'rxjs/Observable';\r\nimport * as firebase from 'firebase/app';\r\n\r\nimport { LoginEmailPage } from '../../pages/login-email/login-email';\r\nimport { SignupEmailPage } from '../../pages/signup-email/signup-email';\r\nimport { AuthService } from '../../providers/auth-service/auth-service';\r\n\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'login.html',\r\n})\r\nexport class LoginPage {\r\n\r\n  private loading: Loading;\r\n  private loading2: Loading;\r\n\r\n  constructor(\r\n    private loadingCtrl: LoadingController,\r\n    private navCtrl: NavController,\r\n    private authService: AuthService\r\n  ) { }\r\n\r\n\r\n  private loginTwitter():void {\r\n    this.loading = this.loadingCtrl.create({\r\n      content: 'Logging in ...',\r\n      dismissOnPageChange: true\r\n    });\r\n    this.loading.present();\r\n    var provider = new firebase.auth.TwitterAuthProvider();\r\n    this.authService.signInRedirect(provider);\r\n  }\r\n\r\n  private loginGithub():void {\r\n\r\n    this.loading = this.loadingCtrl.create({\r\n      content: 'Logging in ...',\r\n      dismissOnPageChange: true,\r\n    });\r\n    this.loading.present();\r\n\r\n    var provider = new firebase.auth.GithubAuthProvider();\r\n    this.authService.signInRedirect(provider);\r\n  }\r\n\r\n  private loginFB():void {\r\n\r\n    this.loading = this.loadingCtrl.create({\r\n      content: 'Logging in ...',\r\n      dismissOnPageChange: true,\r\n    });\r\n    this.loading.present();\r\n\r\n    var provider = new firebase.auth.FacebookAuthProvider();\r\n    provider.addScope('public_profile');\r\n    provider.addScope('email');\r\n    this.authService.signInRedirect(provider);\r\n  }\r\n\r\n  private loginGoogle():void {\r\n    this.loading = this.loadingCtrl.create({\r\n      content: 'Logging in ...',\r\n      dismissOnPageChange: true\r\n    });\r\n    this.loading.present();\r\n    var provider = new firebase.auth.GoogleAuthProvider();\r\n    this.authService.signInRedirect(provider);\r\n  }\r\n\r\n  private loginEmail():void {\r\n    this.navCtrl.push(LoginEmailPage);\r\n  }\r\n\r\n  private goSignup():void {\r\n    this.navCtrl.push(SignupEmailPage);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, Loading, LoadingController, Toast, ToastController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\n\r\nimport { AuthService } from '../../providers/auth-service/auth-service';\r\nimport { User } from '../../interfaces/user-interface';\r\n\r\n@Component({\r\n  selector: 'page-login-email',\r\n  templateUrl: 'login-email.html',\r\n})\r\nexport class LoginEmailPage {\r\n\r\n  private loginForm: FormGroup;\r\n  private loading: Loading;\r\n  private toast: Toast;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private loadingCtrl: LoadingController,\r\n    private toastCtrl: ToastController,\r\n    private AuthService: AuthService\r\n  ) {\r\n\r\n    this.loginForm = formBuilder.group({\r\n      email: [null,  Validators.compose([Validators.required, Validators.email])],\r\n      password: [null, Validators.required]\r\n    });\r\n  }\r\n\r\n  private onSubmit(formData: any, formValid: boolean): void {\r\n    if (!formValid)\r\n      return;\r\n\r\n    this.loading = this.loadingCtrl.create({\r\n      content: 'Logging In ...',\r\n      //dismissOnPageChange: true\r\n    });\r\n\r\n    this.loading.present()\r\n\r\n    this.AuthService.signInEmail(\r\n      formData.email,\r\n      formData.password\r\n    ).then(\r\n      success => {\r\n        console.log('email auth success');\r\n        this.loading.dismiss();\r\n      }).catch(\r\n      error => {\r\n        this.toast = this.toastCtrl.create({\r\n          message: error.toString(),\r\n          duration: 2500,\r\n          position: 'middle'\r\n        });\r\n        console.error(error);\r\n        this.loading.dismiss();\r\n        this.toast.present();\r\n      });\r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login-email/login-email.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, Loading, LoadingController, Toast, ToastController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, FormControl, Validators } from '@angular/forms';\r\n\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\n\r\nimport { AuthService } from '../../providers/auth-service/auth-service';\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { HomePage } from '../home/home';\r\n\r\n@Component({\r\n  selector: 'page-signup-email',\r\n  templateUrl: 'signup-email.html',\r\n})\r\nexport class SignupEmailPage {\r\n\r\n  private toast: Toast;\r\n  private createUserForm: FormGroup;\r\n  private loading: Loading;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private formBuilder: FormBuilder,\r\n    private loadingCtrl: LoadingController,\r\n    private toastCtrl: ToastController\r\n\r\n  ) {\r\n\r\n    this.createUserForm = formBuilder.group({\r\n      email: [null,  Validators.compose([Validators.required, Validators.email])],\r\n      password1: [null, Validators.required],\r\n      password2: [null, Validators.required],\r\n    }, { validator: this.passwordsAreEqual.bind(this) });\r\n  }\r\n\r\n  private onSubmit(formData: any, formValid: boolean): void {\r\n    if (!formValid)\r\n      return;\r\n\r\n    this.authService.createAuthUser(formData.email,formData.password1).then(\r\n      (success) => {},\r\n      (error) => {\r\n        this.toast = this.toastCtrl.create({\r\n          message: 'Firebase error: ' + error,\r\n          duration: 2500,\r\n          position: 'middle'\r\n        });\r\n        console.error(error);\r\n        this.toast.present();\r\n      }\r\n    );\r\n  }\r\n\r\n  private passwordsAreEqual(ctrl: FormControl): any {\r\n    if (this.createUserForm && this.createUserForm.controls.password1.value) {\r\n      let valid = this.createUserForm.controls.password1.value == this.createUserForm.controls.password2.value;\r\n      return valid ? null : { 'passwordsAreEqual': true };\r\n    }\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup-email/signup-email.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\nimport { FormBuilder, FormGroup, FormControl, Validators, } from '@angular/forms';\r\n\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subject } from 'rxjs/Subject';\r\n\r\nimport 'rxjs/add/operator/merge';\r\nimport 'rxjs/add/observable/combineLatest';\r\nimport 'rxjs/add/operator/first';\r\nimport 'rxjs/add/observable/empty';\r\n\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { ValidatorService } from '../../providers/validator-service/validator-service'\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { Validator } from '../../interfaces/validator-interface';\r\n\r\nimport { ValidatorDetailPage } from '../validator-detail/validator-detail';\r\nimport { UserDetailPage } from '../user-detail/user-detail';\r\n\r\n@Component({\r\n  selector: 'page-search',\r\n  templateUrl: 'search.html',\r\n})\r\nexport class SearchPage {\r\n\r\n  private searchTerm: string = '';\r\n  private search$: Observable<any[]>;\r\n  private searchSubject$: Subject<any[]>;\r\n  private searchControl: FormControl;\r\n\r\n  private toUser: User;\r\n  private user: User;\r\n  private userSub$: Subscription;\r\n\r\n  constructor(\r\n    private navCtrl: NavController,\r\n    private formBuilder: FormBuilder,\r\n    private userService: UserService,\r\n    private validatorService: ValidatorService\r\n  ) {\r\n\r\n    this.searchSubject$ = new Subject();\r\n    this.search$ = this.searchSubject$ as Observable<any>;\r\n  }\r\n\r\n  private setFilteredItems(): void {\r\n    if (this.searchTerm == '') {\r\n      this.searchSubject$.next([]);\r\n      return;\r\n    }\r\n\r\n    let uObs = this.userService.filterUsers$(this.searchTerm);\r\n    let vObs = this.validatorService.filterValidators$(this.searchTerm);\r\n    Observable.combineLatest(uObs, vObs).first().subscribe(\r\n      combined => {\r\n        let search = [];\r\n        for (let obj of combined) {\r\n          if (Array.isArray(obj)) {\r\n            search = search.concat([...obj]);\r\n          }\r\n          else {\r\n            search = search.concat([obj]);\r\n          }\r\n        }\r\n        this.searchSubject$.next(search);\r\n      },\r\n      error => console.log(error),\r\n      () => {}\r\n    )\r\n  }\r\n\r\n  private goToDetail(userOrVali): void {\r\n    if (userOrVali.requirements) {\r\n      //validator\r\n      this.navCtrl.push(ValidatorDetailPage, userOrVali);\r\n    }\r\n    else {\r\n      this.navCtrl.push(UserDetailPage, userOrVali);\r\n    }\r\n\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad SearchPage');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts","import { Component } from '@angular/core';\r\nimport { Loading, LoadingController, ModalController, NavController, NavParams } from 'ionic-angular';\r\n\r\nimport { ValidatorService } from '../../providers/validator-service/validator-service';\r\nimport { Validator } from '../../interfaces/validator-interface'\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { NewsService } from '../../providers/news-service/news-service';\r\nimport { UserService } from '../../providers/user-service/user-service';\r\n\r\nimport { HomePage } from '../../pages/home/home';\r\nimport { ProfilePage } from '../../pages/profile/profile';\r\n\r\nimport { ConfirmModal } from '../../pages/confirm-modal/confirm-modal';\r\n\r\n@Component({\r\n  selector: 'page-apply',\r\n  templateUrl: 'apply.html',\r\n})\r\nexport class ApplyPage {\r\n\r\n  private validator: Validator = {} as Validator;\r\n  private user: User = {} as User;\r\n  private applied: boolean = false;\r\n  private requirements: Array<any>;\r\n  private loading: Loading;\r\n  private allRequirementsMet: boolean = true;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private modalController: ModalController,\r\n    private loadingCtrl: LoadingController,\r\n    private userService: UserService,\r\n    private validatorService: ValidatorService,\r\n    private newsService: NewsService\r\n  ) {\r\n    this.validator = navParams.get('validator');\r\n    this.user = navParams.get('user');\r\n    this.requirements = navParams.get('reqs');\r\n    for (let r of this.requirements) {\r\n      if (!r.completed)\r\n        this.allRequirementsMet = false;\r\n    }\r\n    if (this.validator.appliedUsers) {\r\n      for (let key of this.validator.appliedUsers) {\r\n        if (this.user.uid == key)\r\n          this.applied = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  private apply() {\r\n    let msg = \"You are about to apply for validation from  \"+this.validator.displayName;\r\n    let conf = this.modalController.create(ConfirmModal, { title: 'Confirm Apply', message: msg });\r\n    conf.present();\r\n    conf.onDidDismiss((confirm) => {\r\n\r\n      if (confirm) {\r\n        this.loading = this.loadingCtrl.create({\r\n          content: 'Applying ...'\r\n        });\r\n        this.loading.present();\r\n\r\n        this.validatorService.applyForValidation(this.user, this.validator);\r\n        this.newsService.addValidatorTrustRequest(this.validator);\r\n        if (this.validator.autoAccept) {\r\n          setTimeout(() => {\r\n            this.validatorService.completeValidation(this.user, this.validator);\r\n            this.newsService.addValidatorTrustAccept(this.validator);\r\n            this.userService.saveUser();\r\n            this.validatorService.saveValidator(this.validator);\r\n            this.loading.dismiss();\r\n            this.navCtrl.pop();\r\n          }, 2000);\r\n        }\r\n        else {\r\n          this.loading.dismiss();\r\n          this.navCtrl.pop();\r\n        }\r\n        this.userService.saveUser();\r\n        this.validatorService.saveValidator(this.validator);\r\n      }\r\n      else {\r\n        this.loading.dismiss();\r\n      }\r\n    });\r\n  }\r\n\r\n  private gotoProvider (req) {\r\n    if (req.completed)\r\n      return;\r\n\r\n    if (req.displayName == 'Email' || req.displayName == 'Profile Photo' || req.displayName == 'Name') {\r\n      this.navCtrl.setRoot(HomePage).then( (res) => {\r\n        this.navCtrl.push(ProfilePage);\r\n      });\r\n    }\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad ApplyPage');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/apply/apply.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, Loading, LoadingController, ModalController, NavController, NavParams, Toast, ToastController } from 'ionic-angular';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport { FormBuilder, FormGroup, FormControl, Validators, } from '@angular/forms';\r\n\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { NotificationsService } from 'angular2-notifications';\r\nimport 'rxjs/add/operator/debounceTime';\r\n\r\nimport { TransactionService } from '../../providers/transaction-service/transaction-service';\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { User } from '../../interfaces/user-interface';\r\n\r\nimport { ConfirmModal } from '../../pages/confirm-modal/confirm-modal';\r\n\r\n@Component({\r\n  selector: 'page-send',\r\n  templateUrl: 'send.html',\r\n})\r\nexport class SendPage {\r\n\r\n  private sendForm: FormGroup;\r\n  private toUser: User;\r\n  private user: User;\r\n  private userSub$: Subscription;\r\n\r\n  private loading: Loading;\r\n  private toast: Toast;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private loadingCtrl: LoadingController,\r\n    private notificationsService: NotificationsService,\r\n    private modalController: ModalController,\r\n    private toastCtrl: ToastController,\r\n    private transactionService: TransactionService,\r\n    private userService: UserService,\r\n    private navCtrl: NavController,\r\n    private navParams: NavParams\r\n  ) {\r\n\r\n    this.toUser = navParams.data;\r\n\r\n    this.sendForm = formBuilder.group({\r\n      toUserKey: [this.toUser.uid, Validators.required],\r\n      amount: [null, Validators.required],\r\n      message: [null]\r\n    });\r\n  }\r\n\r\n  private onSubmit(formData: any, formValid: boolean): void {\r\n\r\n    if (!formValid)\r\n      return;\r\n\r\n    if (this.user.balance < formData.amount) {\r\n      this.notificationsService.create('Send Fail', '', 'error');\r\n      let msg = \"You don't have enough Circles!\";\r\n      this.notificationsService.create('Balance', msg, 'warn');\r\n      return;\r\n    }\r\n\r\n    let toUserName = this.userService.keyToUserName(formData.toUserKey);\r\n    let msg = \"You are about to send \"+formData.amount+\" to \"+toUserName;\r\n    let conf = this.modalController.create(ConfirmModal, { title: 'Confirm Send', message: msg });\r\n    conf.present();\r\n    conf.onDidDismiss((confirm) => {\r\n      if (confirm) {\r\n        this.loading = this.loadingCtrl.create({\r\n          content: 'Sending ...'\r\n        });\r\n        this.loading.present();\r\n        if (this.transactionService.createTransactionIntent(formData.toUserKey, formData.amount, formData.message)) {\r\n          //reset the recipient field\r\n          this.toUser = null;\r\n          this.sendForm.reset();\r\n          this.userService.saveUser();\r\n          this.loading.dismiss();\r\n          this.navCtrl.pop();\r\n        }\r\n        else {\r\n          this.loading.dismiss();\r\n          this.navCtrl.pop()\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n\r\n    this.userSub$ = this.userService.user$.subscribe(\r\n      user => this.user = user,\r\n      error => {\r\n        this.toast = this.toastCtrl.create({\r\n          message: 'Error getting user: '+error,\r\n          duration: 2500,\r\n          position: 'middle'\r\n        });\r\n        console.error(error);\r\n        this.toast.present();\r\n      },\r\n      () => console.log('send ionViewDidLoad userSub$ obs complete')\r\n    );\r\n  }\r\n\r\n  ionViewWillUnload() {\r\n    this.userSub$.unsubscribe();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/send/send.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, Toast, ToastController } from 'ionic-angular';\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { Coin } from '../../interfaces/coin-interface';\r\n\r\n@Component({\r\n  selector: 'page-wallet',\r\n  templateUrl: 'wallet.html',\r\n})\r\nexport class WalletPage {\r\n\r\n  private user: User;\r\n  private userSub$: Subscription;\r\n  private toast: Toast;\r\n  private displayWallet: Array<Coin>;\r\n\r\n  constructor(\r\n    private db: AngularFireDatabase,\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private userService: UserService,\r\n    private toastCtrl: ToastController\r\n  )\r\n  { }\r\n\r\n  private priorityUp(coin) {\r\n    coin.priority--;\r\n    let c1 = this.displayWallet[coin.priority];\r\n    c1.priority++;\r\n    this.displayWallet[coin.priority] = coin;\r\n    this.displayWallet[c1.priority] = c1;\r\n  }\r\n\r\n  private priorityDown(coin) {\r\n    coin.priority++;\r\n    let c1 = this.displayWallet[coin.priority];\r\n    c1.priority--;\r\n    this.displayWallet[coin.priority] = coin;\r\n    this.displayWallet[c1.priority] = c1;\r\n  }\r\n\r\n\r\n  private orderByPriority() {\r\n    this.displayWallet.sort(\r\n      (a,b) => {\r\n        if (a.priority > b.priority) {\r\n          return 1;\r\n        }\r\n\r\n        if (a.priority < b.priority) {\r\n         return -1;\r\n        }\r\n      return 0;\r\n    });\r\n  }\r\n\r\n  private async save() {\r\n    for (let c of this.displayWallet) {\r\n      this.user.wallet[c.owner] = c;\r\n    }\r\n    this.userService.updateUser({wallet:this.user.wallet});\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n\r\n    console.log('ionViewDidLoad WalletPage');\r\n\r\n    this.userSub$ = this.userService.user$.subscribe(\r\n      user => {\r\n        this.user = user;\r\n        this.displayWallet = [];\r\n        for (let i in this.user.wallet) {\r\n          let w = Object.assign({},this.user.wallet[i]) as any;\r\n          w.displayOwner = this.userService.keyToUserName(w.owner);\r\n          this.displayWallet.push(w);\r\n        }\r\n        this.orderByPriority();\r\n      },\r\n      error => {\r\n        this.toast = this.toastCtrl.create({\r\n          message: 'Error getting user: '+error,\r\n          duration: 2500,\r\n          position: 'middle'\r\n        });\r\n        console.error(error);\r\n        this.toast.present();\r\n      },\r\n      () => console.log('send ionViewDidLoad userSub$ obs complete')\r\n    );\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/wallet/wallet.ts","import { Component } from '@angular/core';\r\nimport { NavController, NavParams } from 'ionic-angular';\r\n\r\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport * as firebase from 'firebase/app';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { User } from '../../interfaces/user-interface';\r\n\r\n/**\r\n * Generated class for the SettingsPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n\r\n@Component({\r\n  selector: 'page-settings',\r\n  templateUrl: 'settings.html',\r\n})\r\nexport class SettingsPage {\r\n\r\n  //vars\r\n  private base64ImageData: string;\r\n  private user: User;\r\n  private userSub$: Subscription;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, private userService: UserService) {\r\n  }\r\n\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad SettingsPage');\r\n\r\n    //load user data\r\n    this.userSub$ = this.userService.user$.subscribe(\r\n      user => {\r\n        this.user = user;\r\n        console.log(\"user\", user);\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  saveSettings() {\r\n\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { Loading, LoadingController, NavController, NavParams, Slides, Toast, ToastController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\nimport * as firebase from 'firebase/app';\r\n\r\nimport { FirebaseObjectObservable } from 'angularfire2/database';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport \"rxjs/add/observable/interval\";\r\n\r\nimport { HomePage } from '../home/home';\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { Individual } from '../../interfaces/individual-interface';\r\nimport { Organisation } from '../../interfaces/organisation-interface';\r\nimport { StorageService, UploadFile } from '../../providers/storage-service/storage-service';\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { NewsService } from '../../providers/news-service/news-service';\r\n\r\n@Component({\r\n  selector: 'page-welcome',\r\n  templateUrl: 'welcome.html',\r\n})\r\nexport class WelcomePage {\r\n\r\n  private authUser: any;\r\n  private userObs$: FirebaseObjectObservable<User>;\r\n  private toast: Toast;\r\n\r\n  private loading: Loading;\r\n\r\n  @ViewChild(Slides) welcomeSlider: Slides;\r\n\r\n  private formGroups: Array<FormGroup>;\r\n  private userTypeForm: FormGroup;\r\n  private individualForm: FormGroup;\r\n  private organisationForm: FormGroup;\r\n  private picForm: FormGroup;\r\n  private disclaimerForm: FormGroup;\r\n\r\n  private profilePicUpload: UploadFile;\r\n\r\n  private profilePicURL: string = \"https://firebasestorage.googleapis.com/v0/b/circles-testnet.appspot.com/o/profilepics%2FGeneric_Image_Missing-Profile.jpg?alt=media&token=f1f08984-69f3-4f25-b505-17358b437d7a\";\r\n  private base64ImageData: string;\r\n\r\n  private formState = {\r\n    type: <string>null,\r\n    submitAttempt: <boolean>false,\r\n    profilePicRequired: <boolean>false,\r\n    profilePicSelected: <boolean>false\r\n  };\r\n\r\n  private profilePageViewNames: Array<string> = ['Intro', 'User Type', 'User Info', 'Picture', 'Disclaimer'];\r\n\r\n  constructor(\r\n    private sanitizer: DomSanitizer,\r\n    private formBuilder: FormBuilder,\r\n    private loadingCtrl: LoadingController,\r\n    private navCtrl: NavController,\r\n    private navParams: NavParams,\r\n    private newsService: NewsService,\r\n    private storageService: StorageService,\r\n    private toastCtrl: ToastController,\r\n    private userService: UserService\r\n  ) {\r\n\r\n    this.authUser = navParams.get('authUser');\r\n    this.userObs$ = navParams.get('obs');\r\n\r\n    this.userTypeForm = formBuilder.group({\r\n      type: [null, Validators.required],\r\n    });\r\n\r\n    this.individualForm = formBuilder.group({\r\n      firstName: [null, Validators.compose([Validators.maxLength(30), Validators.pattern('[a-zA-Z ]*'), Validators.required])],\r\n      lastName: [null, Validators.compose([Validators.maxLength(30), Validators.pattern('[a-zA-Z ]*'), Validators.required])],\r\n      email: [this.authUser.email, Validators.email]\r\n    });\r\n\r\n    this.organisationForm = formBuilder.group({\r\n      organisation: [null, Validators.compose([Validators.maxLength(30), Validators.pattern('[a-zA-Z0-9 ]*'), Validators.required])],\r\n      tagline: [null, Validators.compose([Validators.maxLength(60)])],\r\n      website: [null],\r\n      email: [this.authUser.email, Validators.email]\r\n    });\r\n\r\n    this.picForm = formBuilder.group({\r\n      profilePicURL: [null, Validators.minLength(24)],\r\n    });\r\n\r\n    this.disclaimerForm = formBuilder.group({\r\n\r\n    });\r\n\r\n    // Missing array elems are added based on setUserTypeSlides()\r\n    this.formGroups = [null, this.userTypeForm, null, this.picForm, this.disclaimerForm];\r\n\r\n  }\r\n\r\n  private onFirstSlideSubmit() {\r\n    if (this.userTypeForm.controls.type.value)\r\n      this.setUserTypeSlides();\r\n    this.welcomeSlider.slideNext();\r\n  }\r\n\r\n  private onSecondSlideSubmit() {\r\n    this.setUserTypeSlides();\r\n    this.welcomeSlider.lockSwipeToNext(false);\r\n    this.welcomeSlider.slideNext();\r\n  }\r\n\r\n  private onSubmit(formData: any, formValid: boolean): void {\r\n    if (!formValid)\r\n      return;\r\n\r\n    this.welcomeSlider.lockSwipeToNext(false);\r\n    this.welcomeSlider.slideNext();\r\n  }\r\n\r\n\r\n  private setUserTypeSlides(): void {\r\n\r\n    this.formState.type = this.userTypeForm.controls.type.value;\r\n\r\n    //we have the user type so build the formgroup array to fit the form path\r\n    if (this.formState.type == 'individual') {\r\n      this.formGroups[2] = this.individualForm;\r\n    }\r\n    else {\r\n      this.formGroups[2] = this.organisationForm;\r\n    }\r\n  }\r\n\r\n  private onSlideWillChange(): void {\r\n    // this returns the slide we are going to\r\n    let i = this.welcomeSlider.getActiveIndex();\r\n\r\n    //this will stop users from swiping to the next slide if they have not completed the current one\r\n    if (this.formGroups[i] && !this.formGroups[i].valid)\r\n      this.welcomeSlider.lockSwipeToNext(true);\r\n    else\r\n      this.welcomeSlider.lockSwipeToNext(false);\r\n\r\n  }\r\n\r\n  private onSlideDidChange(): void {\r\n    let i = this.welcomeSlider.getActiveIndex();\r\n    let slideName = this.profilePageViewNames[i];\r\n    //this.analytics.trackPageView('Profile Page: ' + slideName);\r\n  }\r\n\r\n\r\n  public fileChangeEvent(fileInput: any) {\r\n    if (fileInput.target.files && fileInput.target.files[0]) {\r\n\r\n      var reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        let img = new Image;\r\n        img.src = reader.result;\r\n        img.onload = ( (file) => {\r\n\r\n          this.storageService.resizePicFile(fileInput.target.files, img.height, img.width).subscribe(\r\n            imageBlob => {\r\n              this.profilePicURL = URL.createObjectURL(imageBlob);\r\n              this.base64ImageData = this.profilePicURL.substring(23);\r\n              this.profilePicUpload = new UploadFile(imageBlob as File, this.authUser.uid);\r\n            }\r\n          );\r\n        });\r\n      }\r\n\r\n      reader.readAsDataURL(fileInput.target.files[0]);\r\n  }\r\n}\r\n\r\n\r\n  private saveForm(): void {\r\n\r\n    this.loading = this.loadingCtrl.create({\r\n      content: 'Saving Profile ...'\r\n    });\r\n    this.loading.present();\r\n\r\n    let user = {} as any;\r\n    user.uid = this.authUser.uid;\r\n\r\n    if (this.formState.type === 'individual') {\r\n      user = user as Individual;\r\n      user.firstName = this.individualForm.get('firstName').value;\r\n      user.lastName = this.individualForm.get('lastName').value;\r\n      user.displayName = user.firstName + ' ' + user.lastName;\r\n      user.email = this.individualForm.get('email').value || '';\r\n      user.profilePicURL = this.picForm.get('profilePicURL').value;\r\n    }\r\n    else {\r\n      user = user as Organisation;\r\n      user.displayName = this.organisationForm.get('organisation').value;\r\n      user.email = this.organisationForm.get('email').value || '';\r\n      user.greeting = this.organisationForm.get('tagline').value || '';\r\n      user.website = this.organisationForm.get('website').value || '';\r\n      user.profilePicURL = this.picForm.get('profilePicURL').value;\r\n    }\r\n\r\n    if (this.profilePicUpload) {\r\n\r\n      let progressIntervalObs$ = Observable.interval(200).subscribe( () => {\r\n        this.loading.data.content = this.sanitizer.bypassSecurityTrustHtml(\r\n          '<p>Saving Profile ...</p><progress value=\"'+this.profilePicUpload.progress+'\" max=\"100\"></progress>'\r\n        )\r\n      });\r\n\r\n      this.storageService.uploadFile(this.profilePicUpload).then(\r\n        (profileURL) => {\r\n          user.profilePicURL = profileURL;\r\n          progressIntervalObs$.unsubscribe();\r\n          this.saveUser(user);\r\n        },\r\n        (error) => {\r\n          progressIntervalObs$.unsubscribe();\r\n          this.toast = this.toastCtrl.create({\r\n            message: error.message + ': ' + error.details,\r\n            duration: 2500,\r\n            position: 'middle'\r\n          });\r\n          console.error(error);\r\n          this.toast.present();\r\n        }\r\n      );\r\n    }\r\n    else {\r\n      //save w generic profile pic\r\n      this.saveUser(user);\r\n    }\r\n  }\r\n\r\n  private saveUser(formUser) {\r\n    //sends us back to app.component's auth observer\r\n\r\n    let user = this.userService.createCirclesUser(this.authUser,formUser);\r\n\n    firebase.auth().currentUser.sendEmailVerification().then(\r\n      (result) => console.log('email verif sent'),\r\n      (error) => console.log(error)\r\n    );\n\r\n    this.userObs$.set({userData:user}).then(\r\n      (result) => {\r\n        this.loading.dismiss();\r\n      },\r\n      (error) => {\r\n        this.loading.dismiss();\r\n        this.toast = this.toastCtrl.create({\r\n          message: 'Error saving User record: ' + error,\r\n          duration: 2500,\r\n          position: 'middle'\r\n        });\r\n        console.error(error);\r\n        this.toast.present();\r\n      }\r\n    );\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad WelcomePage');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/welcome/welcome.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","//core\r\nimport { ErrorHandler, NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { CirclesApp } from './app.component';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations'\r\n\r\n//vendor\r\nimport { AngularFireAuthModule } from 'angularfire2/auth';\r\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\r\nimport { AngularFireModule } from 'angularfire2';\r\nimport { Ng2PicaModule } from 'ng2-pica';\r\nimport { SimpleNotificationsModule } from 'angular2-notifications';\r\n\r\n//pages\r\nimport { HomePage } from '../pages/home/home';\r\nimport { ProfilePage } from '../pages/profile/profile';\r\nimport { SearchPage } from '../pages/search/search';\r\nimport { UserDetailPage } from '../pages/user-detail/user-detail';\r\nimport { ValidatorDetailPage } from '../pages/validator-detail/validator-detail';\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { LoginEmailPage } from '../pages/login-email/login-email';\r\nimport { SignupEmailPage } from '../pages/signup-email/signup-email';\r\nimport { SendPage } from '../pages/send/send';\r\nimport { ApplyPage } from '../pages/apply/apply';\r\nimport { WelcomePage } from '../pages/welcome/welcome';\r\nimport { ConfirmModal } from '../pages/confirm-modal/confirm-modal';\r\nimport { WalletPage } from '../pages/wallet/wallet';\r\nimport { SettingsPage } from '../pages/settings/settings';\r\n\r\n//components\r\nimport { NewsCard } from '../components/news-card/news-card';\r\n\r\n//services\r\nimport { StorageService } from '../providers/storage-service/storage-service';\r\nimport { AuthService } from '../providers/auth-service/auth-service';\r\nimport { UserService } from '../providers/user-service/user-service';\r\nimport { TransactionService } from '../providers/transaction-service/transaction-service';\r\nimport { NewsService } from '../providers/news-service/news-service';\r\nimport { ValidatorService } from '../providers/validator-service/validator-service';\r\n\r\n//configs\r\nimport { environment } from '../environments/environment';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ApplyPage,\r\n    CirclesApp,\r\n    ConfirmModal,\r\n    HomePage,\r\n    LoginEmailPage,\r\n    LoginPage,\r\n    NewsCard,\r\n    ProfilePage,\r\n    SearchPage,\r\n    SendPage,\r\n    SettingsPage,\r\n    SignupEmailPage,\r\n    UserDetailPage,\r\n    ValidatorDetailPage,\r\n    WalletPage,\r\n    WelcomePage\r\n  ],\r\n  imports: [\r\n    AngularFireAuthModule,\r\n    AngularFireDatabaseModule,\r\n    AngularFireModule.initializeApp(environment.firebase),\r\n    BrowserAnimationsModule,\r\n    BrowserModule,\r\n    IonicModule.forRoot(CirclesApp,{\r\n        scrollPadding: false,\r\n        scrollAssist: true,\r\n        autoFocusAssist: false,\r\n        mode: 'ios'}), //this will force 'ios' style on all platforms\r\n    Ng2PicaModule,\r\n    SimpleNotificationsModule.forRoot()\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    ApplyPage,\r\n    CirclesApp,\r\n    ConfirmModal,\r\n    HomePage,\r\n    LoginEmailPage,\r\n    LoginPage,\r\n    ProfilePage,\r\n    SearchPage,\r\n    SendPage,\r\n    SettingsPage,\r\n    SignupEmailPage,\r\n    UserDetailPage,\r\n    ValidatorDetailPage,\r\n    WalletPage,\r\n    WelcomePage\r\n  ],\r\n  providers: [\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\r\n    AuthService,\r\n    NewsService,\r\n    SplashScreen,\r\n    StatusBar,\r\n    StorageService,\r\n    TransactionService,\r\n    UserService,\r\n    ValidatorService\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { Loading, LoadingController, Platform, Toast, ToastController } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\n\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\nimport { AngularFireDatabase, FirebaseObjectObservable } from 'angularfire2/database';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { AuthService } from '../providers/auth-service/auth-service';\r\nimport { UserService } from '../providers/user-service/user-service';\r\nimport { NewsService } from '../providers/news-service/news-service';\r\n\r\nimport { LoginPage } from '../pages/login/login';\r\nimport { HomePage } from '../pages/home/home';\r\n\r\nimport { WalletPage } from '../pages/wallet/wallet';\r\nimport { SettingsPage } from '../pages/settings/settings';\r\nimport { ProfilePage } from '../pages/profile/profile';\r\nimport { WelcomePage } from '../pages/welcome/welcome';\r\n\r\nvar authUserObs$: FirebaseObjectObservable<any>;\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class CirclesApp {\r\n  rootPage: any = LoginPage;\r\n  @ViewChild('content') nav;\r\n\r\n  private loading: Loading;\r\n  private toast: Toast;\r\n\r\n  constructor(\r\n    private afAuth: AngularFireAuth,\r\n    private db: AngularFireDatabase,\r\n    private authService: AuthService,\r\n    private loadingCtrl: LoadingController,\r\n    private newsService: NewsService,\r\n    private platform: Platform,\r\n    private splashScreen: SplashScreen,\r\n    private statusBar: StatusBar,\r\n    private toastCtrl: ToastController,\r\n    private userService: UserService,\r\n  ) {\r\n    platform.ready().then(() => {\r\n\r\n      if (this.platform.is('cordova')) {\r\n\r\n      }\r\n      statusBar.styleDefault();\r\n      this.authService.authState$.subscribe(\r\n        auth => {\r\n          if (auth) {\r\n            debugger;\r\n            let authUserObs$ = this.db.object('/users/' + auth.uid);\r\n            let authUserSub$ = authUserObs$.subscribe(\r\n              user => {\r\n                if (!user.$exists()) {\r\n                  this.nav.push(WelcomePage, { authUser: auth, obs: authUserObs$ });\r\n                }\r\n                else {\r\n                  authUserSub$.unsubscribe();\r\n                  this.userService.initialise(auth.providerData,user.userData);\r\n                  this.newsService.initialise(user.userData);\r\n                  this.nav.setRoot(HomePage);\r\n                }\r\n              },\r\n              error => {\r\n                this.toast = this.toastCtrl.create({\r\n                  message: 'Error saving user: ' + error,\r\n                  duration: 2500,\r\n                  position: 'middle'\r\n                });\r\n                console.error(error);\r\n                this.toast.present();\r\n              });\r\n          }\r\n          else {\r\n            this.nav.setRoot(LoginPage);\r\n          }\r\n        },\r\n        error => {\r\n          this.toast = this.toastCtrl.create({\r\n            message: 'User auth error: ' + error,\r\n            duration: 2500,\r\n            position: 'middle'\r\n          });\r\n          console.error(error);\r\n          this.toast.present();\r\n        },\r\n        () => { }\r\n      );\r\n    });\r\n  }\r\n\r\n  private goToWallet(): void {\r\n    this.nav.push(WalletPage);\r\n  }\r\n\r\n  private goToSettings(): void {\r\n    this.nav.push(SettingsPage);\r\n  }\r\n\r\n  private goToProfile(): void {\r\n    this.nav.push(ProfilePage);\r\n  }\r\n\r\n  private logout(): void {\r\n    this.authService.signOut();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable, OnDestroy } from '@angular/core';\r\n\r\nimport { NotificationsService  } from 'angular2-notifications';\r\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\r\nimport * as firebase from 'firebase/app';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/combineLatest';\r\nimport 'rxjs/add/operator/take';\r\nimport 'rxjs/add/operator/isEmpty';\r\n\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { Individual } from '../../interfaces/individual-interface';\r\nimport { Organisation } from '../../interfaces/organisation-interface';\r\nimport { NewsItem } from '../../interfaces/news-item-interface';\r\nimport { Validator } from '../../interfaces/validator-interface';\r\n\r\n@Injectable()\r\nexport class NewsService implements OnDestroy {\r\n\r\n  private user: User;\r\n\r\n  private newsItemsFirebaseList$: FirebaseListObservable<NewsItem[]>;\r\n  private newsItemsSub$: Subscription;\r\n\r\n  private newsItemsReversed$: BehaviorSubject<NewsItem[]> = new BehaviorSubject([]);\r\n  private newsItems$: BehaviorSubject<NewsItem[]> = new BehaviorSubject([]);\r\n\r\n  constructor(\r\n    private db: AngularFireDatabase,\r\n    private notificationsService: NotificationsService,\r\n    private userService: UserService\r\n  ) { }\r\n\r\n  public initialise (initUser) {\r\n    this.setupDBQuery(initUser.uid);\r\n    if (!initUser.agreedToDisclaimer)\r\n      this.addCreateUser(initUser);\r\n\r\n    this.userService.user$.subscribe(\r\n      (user) => this.user = user,\r\n      (error) => console.error(error),\r\n      () => console.log('news-service constructor user$ obs complete')\r\n    );\r\n  }\r\n\r\n  private setupDBQuery(uid):void {\r\n    // sets up a db list binding that will initially return all messages from the last\r\n    // two minutes and then any added to the list after that.\r\n    this.newsItemsFirebaseList$ = this.db.list('/users/' + uid + '/news/');\r\n    let twoMinsAgo = Date.now() - 120000;\r\n    this.newsItemsFirebaseList$.$ref\r\n      .orderByChild('timestamp')\r\n      .startAt(twoMinsAgo)\r\n      .on('child_added', (firebaseObj,index) => {\r\n        let latestNewsItem = firebaseObj.val();\r\n        //receiving from someone\r\n        if (latestNewsItem.type == 'transaction' && latestNewsItem.to == uid) {\r\n          let fromUser = this.userService.keyToUser(latestNewsItem.from);\r\n          let msg = 'Receieved ' + latestNewsItem.amount + ' Circles from ' + fromUser.displayName;\r\n          this.notificationsService.create('Transaction', msg, 'info');\r\n        }\r\n      });\r\n      this.newsItemsFirebaseList$.subscribe(this.newsItems$);\r\n\r\n      this.newsItemsSub$ = this.newsItemsFirebaseList$.subscribe(\r\n        newsitems => {\r\n          let rev = newsitems.sort((a,b) => a.timestamp < b.timestamp ? 1 : -1);\r\n          this.newsItemsReversed$.next(rev);\r\n        },\r\n        error => {\r\n          console.log(\"Firebase Error: \" + error);\r\n        },\r\n        () => console.log('news-service setupDBQuery newsItemsSub$ obs complete')\r\n      );\r\n  }\r\n\r\n  public get allNewsItems$(): BehaviorSubject<NewsItem[]> {\r\n    return this.newsItems$;\r\n  }\r\n\r\n  public get allnewsItemsReversed$(): BehaviorSubject<NewsItem[]> {\r\n    return this.newsItemsReversed$;\r\n  }\r\n\r\n  public addTransaction(toUser:User, amount:number, message?:string):void {\r\n    //this will only be called for sending to someone else\r\n    let newsItem = {\r\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\r\n      from: this.user.uid,\r\n      amount: amount,\r\n      to: toUser.uid,\r\n      type: 'transaction',\r\n      message: message || ''\r\n    } as NewsItem;\r\n    this.newsItemsFirebaseList$.push(newsItem);\r\n\r\n    this.db.list('/users/'+toUser.uid+'/news/').push(newsItem);\r\n\r\n  }\r\n\r\n\r\n  public addValidatorTrustRequest(validator: Validator):void {\r\n\r\n    let msg = 'You applied for validation from: ' +validator.displayName;\r\n    this.notificationsService.create('Apply', msg, 'info');\r\n\r\n    let newsItem = {\r\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\r\n      from: validator.$key,\r\n      type: 'validatorRequest'\r\n    } as NewsItem;\r\n    this.newsItemsFirebaseList$.push(newsItem);\r\n  }\r\n\r\n  public addCreateUser(initUserData: Individual | Organisation):void {\r\n    let msg = 'Welcome to Circles ' +initUserData.displayName +'!';\r\n    this.notificationsService.create('User Created', msg, 'success');\r\n\r\n    let n = {\r\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\r\n      type: 'createAccount'\r\n    } as NewsItem;\r\n    this.newsItemsFirebaseList$.push(n);\r\n\r\n    if (this.userService.type == 'organisation') {\r\n      let n2 = {\r\n        timestamp: firebase.database['ServerValue']['TIMESTAMP'],\r\n        type: 'issuance',\r\n        amount: initUserData.balance,\r\n        coinTitle: initUserData.wallet[initUserData.uid].title\r\n      } as NewsItem;\r\n      this.newsItemsFirebaseList$.push(n2);\r\n    }\r\n  }\r\n\r\n  public addValidatorTrustAccept(validator: Validator):void {\r\n\r\n    let msg = 'You have been validated by: ' +validator.displayName;\r\n    this.notificationsService.create('Validation', msg, 'success');\r\n\r\n    let newsItem = {\r\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\r\n      from: validator.$key,\r\n      type: 'validatorAccept'\r\n    } as NewsItem;\r\n    this.newsItemsFirebaseList$.push(newsItem);\r\n  }\r\n\r\n  public addTrust(user: User):void {\r\n\r\n    let msg = 'You have started trusting: ' +user.displayName;\r\n    this.notificationsService.create('Trust', msg, 'info');\r\n\r\n    let newsItem = {\r\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\r\n      to: user.uid,\r\n      type: 'trustUser'\r\n    } as NewsItem;\r\n    this.newsItemsFirebaseList$.push(newsItem);\r\n  }\r\n\r\n  public revokeUserTrust(user: User):void {\r\n\r\n    let msg = 'You have stopped trusting: ' +user.displayName;\r\n    this.notificationsService.create('Revoke', msg, 'warn');\r\n\r\n    let newsItem = {\r\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\r\n      to: user.uid,\r\n      type: 'revokeUser'\r\n    } as NewsItem;\r\n    this.newsItemsFirebaseList$.push(newsItem);\r\n  }\r\n\r\n  public revokeValidatorTrust(vali: Validator):void {\r\n\r\n    let msg = 'You are no longer validated by: ' +vali.displayName;\r\n    this.notificationsService.create('Revoke', msg, 'warn');\r\n\r\n    let newsItem = {\r\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\r\n      to: vali.$key,\r\n      type: 'revokeValidator'\r\n    } as NewsItem;\r\n    this.newsItemsFirebaseList$.push(newsItem);\r\n  }\r\n\r\n  public signOut() {\r\n    if (this.newsItemsSub$)\r\n      this.newsItemsSub$.unsubscribe();\r\n  }\r\n\r\n  ngOnDestroy () {\r\n    this.newsItemsSub$.unsubscribe();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/news-service/news-service.ts","import { Injectable } from '@angular/core';\r\nimport { NavParams } from 'ionic-angular';\r\n\r\nimport { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2/database';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/observable/forkJoin';\r\nimport 'rxjs/add/operator/map';\r\n\r\nimport { UserService } from '../user-service/user-service';\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { Validator } from '../../interfaces/validator-interface'\r\nimport { Provider } from '../../interfaces/provider-interface'\r\n\r\n@Injectable()\r\nexport class ValidatorService {\r\n\r\n  private user: User;\r\n  public validatorsFirebaseObj$: FirebaseListObservable<Validator[]>;\r\n  public providersFirebaseObj$: FirebaseListObservable<Provider[]>;\r\n  public validators: Array<Validator>;\r\n  public validatorArray: Array<Validator>;\r\n  public initValSubject$: ReplaySubject<any> = new ReplaySubject<any>(1);\r\n  public validators$: Observable<Validator[]>;\r\n  public providers$: Observable<Provider[]>;\r\n  private providers: any;\r\n\r\n  public allProviders: {[key: string]: Provider} = {};\r\n  public allValidators: {[key: string]: Validator} = {};\r\n  public userProviders: Array<any>;\r\n  public userValidators: Array<any>;\r\n  public valRequirements: Array<any>;\r\n\r\n  private combinedSub$: Subscription;\r\n\r\n  constructor(private db: AngularFireDatabase, private userService: UserService) {\r\n\r\n    this.validators$ = this.initValSubject$.asObservable();\r\n\r\n    this.validatorsFirebaseObj$ = this.db.list('/validators/');\r\n    this.providersFirebaseObj$ = this.db.list('/static/authProviders/');\r\n\r\n    const combinator = (user, validators, providers) => {\r\n\r\n      this.user = user;\r\n      this.providers = providers;\r\n      this.userProviders = [];\r\n\r\n      for (let provider of this.providers) {\r\n        this.allProviders[provider.$key] = provider;\r\n        let p = Object.assign({}, provider) as any;\r\n        if (user.authProviders.find(aKey => provider.$key == aKey)) {\r\n          p.completed = true;\r\n        }\r\n        this.userProviders.push(p);\r\n      }\r\n\r\n      this.validators = validators;\r\n      for (let v of this.validators) {\r\n        this.allValidators[v.$key] = v;\r\n      }\r\n      if (this.user.validators) {\r\n        this.userValidators = this.user.validators.map( (vKey:string) => this.keyToValidator(vKey));\r\n      }\r\n      else {\r\n        this.userValidators = [];\r\n      }\r\n    };\r\n\r\n    const userStreams = [this.userService.user$, this.validatorsFirebaseObj$, this.providersFirebaseObj$];\r\n    this.combinedSub$ = Observable.combineLatest(userStreams, combinator).subscribe(\r\n      (result) => console.log('userStreams'),\r\n      (error) => console.log(error),\r\n      () => console.log('userStreams close')\r\n    );\r\n  }\r\n\r\n  public getUserProviders(user: User) {\r\n    debugger;\r\n    this.userProviders = [];\r\n    for (let pKey in this.allProviders) {\r\n      let p = Object.assign({}, this.allProviders[pKey]) as any;\r\n      if (user.authProviders.find(aKey => pKey == aKey)) {\r\n        p.completed = true;\r\n      }\r\n      this.userProviders.push(p);\r\n    }\r\n    return this.userProviders;\r\n  }\r\n\r\n  public getValidatorRequirements(vali: Validator, user: User) {\r\n    this.valRequirements = [];\r\n    for (let req of vali.requirements) {\r\n      let r = Object.assign({}, this.allProviders[req]) as any;\r\n      if (user.authProviders.find(auth => req == auth)) {\r\n        r.completed = true;\r\n      }\r\n      else {\r\n        r.completed = false;\r\n      }\r\n      this.valRequirements.push(r);\r\n    }\r\n    return this.valRequirements;\r\n  }\r\n\r\n  public keyToValidatorName$(key: string): Observable<string> {\r\n    return this.validatorsFirebaseObj$.map(valis => {\r\n      let v = valis.find(vali => vali.$key === key);\r\n      return v.displayName;\r\n    });\r\n  }\r\n\r\n  public keyToValidatorName(key: string): string {\r\n    let d = this.allValidators[key];\r\n    //if (!d)\r\n      //todo:error message\r\n    return d.displayName;\r\n  }\r\n\r\n  public keyToValidator$(key: string): Observable<Validator> {\r\n    return this.validatorsFirebaseObj$.map(valis => {\r\n      let v = valis.find(vali => vali.$key === key);\r\n      return v;\r\n    });\r\n  }\r\n\r\n  public keyToValidator(key: string): Validator {\r\n    let d = this.allValidators[key];\r\n    //if (!d)\r\n      //todo:error message\r\n    return d;\r\n  }\r\n\r\n  public keyToProvider(key: string): Provider {\r\n    let d = this.allProviders[key];\r\n    //if (!d)\r\n      //todo:error message\r\n    return d;\r\n  }\r\n\r\n  public filterValidators$(searchTerm: string) {\r\n    //if (!searchTerm)\r\n    //  return Observable.empty(); //todo: should this return an observable(false) or something?\r\n    return this.validatorsFirebaseObj$.map((valis) => {\r\n      return valis.filter(vali => {\r\n\r\n        if (!vali.displayName || vali.$key == 'undefined')\r\n          return false;\r\n        let s = searchTerm.toLowerCase();\r\n        let d = vali.displayName.toLowerCase();\r\n        return d.indexOf(s) > -1;\r\n      });\r\n    });\r\n  }\r\n\r\n  public revokeValidation(user, validator) {\r\n    if (!validator.trustedUsers) {\r\n    //todo:error\r\n    }\r\n    else {\r\n      validator.trustedUsers = validator.trustedUsers.filter(userKey => {\r\n        return userKey !== user.uid;\r\n      });\r\n    }\r\n\r\n    if (!user.validators) {\r\n    //todo:error\r\n    }\r\n    else {\r\n      user.validators = user.validators.filter(valiKey => {\r\n        return valiKey !== validator.$key;\r\n      });\r\n    }\r\n  }\r\n\r\n  public applyForValidation(user, validator) {\r\n    if (!validator.appliedUsers)\r\n      validator.appliedUsers = [user.uid];\r\n    else\r\n      validator.appliedUsers.push(user.uid);\r\n\r\n  }\r\n\r\n  public completeValidation(user, validator) {\r\n    if (!validator.appliedUsers) {\r\n    //todo:error\r\n    }\r\n    else {\r\n      validator.appliedUsers = validator.appliedUsers.filter(userKey => {\r\n        return userKey !== user.uid;\r\n      });\r\n    }\r\n\r\n    if (!validator.trustedUsers)\r\n      validator.trustedUsers = [user.uid];\r\n    else\r\n      validator.trustedUsers.push(user.uid);\r\n\r\n    if (!user.validators)\r\n      user.validators = [validator.$key];\r\n    else\r\n      user.validators.push(validator.$key);\r\n\r\n  }\r\n\r\n  public saveValidator(validator: Validator) {\r\n    this.validatorsFirebaseObj$.update(validator.$key, validator);\r\n  }\r\n\r\n  public signOut() {\r\n    if (this.combinedSub$)\r\n      this.combinedSub$.unsubscribe();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/validator-service/validator-service.ts","import { Injectable } from '@angular/core';\nimport 'rxjs/add/operator/map';\n\nimport { AngularFireAuth } from 'angularfire2/auth';\n\nimport { NewsService } from '../news-service/news-service';\nimport { UserService } from '../user-service/user-service';\nimport { ValidatorService } from '../validator-service/validator-service';\n\n@Injectable()\nexport class AuthService {\n\n  public authState$: any;\n\n  constructor(\n    private afAuth: AngularFireAuth,\n    private newsService: NewsService,\n    private userService: UserService,\n    private validatorService: ValidatorService\n  ) {\n    this.authState$ = this.afAuth.authState;\n  }\n\n  public createAuthUser(email:string, password:string) {\n    return this.afAuth.auth.createUserWithEmailAndPassword(email, password);\n  }\n\n  public signInEmail(email, password) {\n    return this.afAuth.auth.signInWithEmailAndPassword(email, password);\n  }\n\n  public signInRedirect(provider) {\n    return this.afAuth.auth.signInWithRedirect(provider);\n  }\n\n  public linkRedirect(provider) {\n    return this.afAuth.auth.currentUser.linkWithRedirect(provider);\n  }\n\n  public linkPopup(provider) {\n    return this.afAuth.auth.currentUser.linkWithPopup(provider);\n  }\n\n  signOut() {\n    this.newsService.signOut();\n    this.validatorService.signOut();\n\n    this.userService.signOut();\n\n    this.afAuth.auth.signOut().then(\n      (user) => {\n        console.log('logout success');\n        //this.nav.setRoot(LoginPage);\n      }, function(error) {\n        console.log('logout fail:', error);\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth-service/auth-service.ts","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { Toast, ToastController } from 'ionic-angular';\r\n\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { UserService } from '../../providers/user-service/user-service';\r\nimport { ValidatorService } from '../../providers/validator-service/validator-service'\r\nimport { User } from '../../interfaces/user-interface';\r\nimport { NewsItem } from '../../interfaces/news-item-interface';\r\n\r\n\r\n@Component({\r\n  selector: 'news-card',\r\n  templateUrl: 'news-card.html'\r\n})\r\nexport class NewsCard implements OnDestroy, OnInit {\r\n\r\n  @Input('newsItem') newsItem: NewsItem;\r\n  private user: User;\r\n  private title: string;\r\n  private message: string;\r\n  private itemIcon: string;\r\n  private userSub$: Subscription;\r\n\r\n  private profilePicURL: string;\r\n\r\n  private toast: Toast;\r\n\r\n  constructor(\r\n    private toastCtrl: ToastController,\r\n    private userService: UserService,\r\n    private validatorService: ValidatorService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.userSub$ = this.userService.user$.subscribe(\r\n      user => {\r\n        this.user = user;\r\n      },\r\n      error => {\r\n        this.toast = this.toastCtrl.create({\r\n          message: 'Error getting user: ' + error,\r\n          duration: 2500,\r\n          position: 'middle'\r\n        });\r\n        console.error(error);\r\n        this.toast.present();\r\n      },\r\n      () => console.log('news-card ngOnInit userSub$ obs complete')\r\n    );\r\n\r\n    if (this.newsItem.type == 'createAccount') {\r\n      this.title = \"Account Creation\";\r\n      this.itemIcon = \"add-circle\";\r\n      this.message = \"Your Circles account was created!\";\r\n      this.profilePicURL = this.user.profilePicURL;\r\n    }\r\n    else if (this.newsItem.type == 'transaction' && this.newsItem.from == this.user.uid) {\r\n      this.title = \"Sent Circles\";\r\n      this.itemIcon = \"arrow-dropright-circle\";\r\n      let user = this.userService.keyToUser(this.newsItem.to);\r\n      this.profilePicURL = user.profilePicURL;\r\n      this.message = `${this.newsItem.amount} Circles to ${user.displayName}`;\r\n    }\r\n    else if (this.newsItem.type == 'transaction' && this.user.uid == this.newsItem.to) {\r\n      this.title = \"Received Circles\";\r\n      this.itemIcon = \"arrow-dropleft-circle\";\r\n      let user = this.userService.keyToUser(this.newsItem.from);\r\n      this.profilePicURL = user.profilePicURL;\r\n      this.message = `${this.newsItem.amount} Circles from ${user.displayName}`;\r\n      }\r\n\r\n    else if (this.newsItem.type == 'validatorRequest') {\r\n      this.title = \"Validator Request\";\r\n      this.itemIcon = \"help-circle\";\r\n      let validator = this.validatorService.keyToValidator(this.newsItem.from);\r\n      this.profilePicURL = validator.profilePicURL;\r\n      this.message = `Requested validation from: ${validator.displayName}`;\r\n    }\r\n    else if (this.newsItem.type == 'validatorAccept') {\r\n      this.title = \"Validator Accept\";\r\n      this.itemIcon = \"checkmark-circle\";\r\n      let validator = this.validatorService.keyToValidator(this.newsItem.from);\r\n      this.profilePicURL = validator.profilePicURL;\r\n      this.message = `Validated by: ${validator.displayName}`;\r\n    }\r\n    else if (this.newsItem.type == 'revokeValidator') {\r\n      this.title = \"Revoke Validation\";\r\n      this.itemIcon = \"close-circle\";\r\n      let validator = this.validatorService.keyToValidator(this.newsItem.to);\r\n      this.profilePicURL = validator.profilePicURL;\r\n      this.message = `No longer validated by ${validator.displayName}`;\r\n    }\r\n    else if (this.newsItem.type == 'trustUser') {\r\n      this.title = \"Trust Afforded\";\r\n      this.itemIcon = \"checkmark-circle\";\r\n      let user = this.userService.keyToUser(this.newsItem.to);\r\n      this.profilePicURL = user.profilePicURL;\r\n      this.message = `Afforded trust to: ${user.displayName}`;\r\n    }\r\n    else if (this.newsItem.type == 'revokeUser') {\r\n      this.title = \"Revoke Trust\";\r\n      this.itemIcon = \"close-circle\";\r\n      let user = this.userService.keyToUser(this.newsItem.to);\r\n      this.profilePicURL = user.profilePicURL;\r\n      this.message = `Stopped trusting: ${user.displayName}`;\r\n    }\r\n    else if (this.newsItem.type == 'issuance') {\r\n      this.title = \"Issuance\";\r\n      this.itemIcon = \"cash\";\r\n      this.message = `Issued ${this.newsItem.amount} ${this.newsItem.coinTitle}s`;\r\n      this.profilePicURL = this.user.profilePicURL;\r\n    }\r\n  }\r\n  ngOnDestroy() {\r\n    this.userSub$.unsubscribe();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/news-card/news-card.ts","export const environment = {\r\n  production: true,\r\n  firebase: {\r\n    apiKey: 'AIzaSyD-qk6NzF4sTQwqvgTSzl6z-tUH4Wd7PXc',\r\n    authDomain: 'circles-testnet.firebaseapp.com',\r\n    databaseURL: 'https://circles-testnet.firebaseio.com',\r\n    projectId: 'circles-testnet',\r\n    storageBucket: 'circles-testnet.appspot.com',\r\n    messagingSenderId: '551885395202'\r\n  },\r\n  googleAnalytics: {\r\n    id: 'UA-80367144-2'\r\n  },\r\n  cloudSettings: {\r\n    core: {\r\n      fcm_key: 'AAAAgH7u1QI:APA91bGwrBmTvZtLJKuzfeR_dP4x_wQm0LCMKR_IQWUwZSam3aCmqSGQ14txad1RlZaXSvly0F_Hte2pAHPSZaSOC63HMPojgQlxv1gIGUT7Z052G9IBVzmQ2Q5kFFljCY2KgdugPZ8-',\r\n      app_id: '742b9e39'\r\n    },\r\n    push: {\r\n      sender_id: '551885395202',\r\n      app_id: 'ec89dac3-9e63-4670-97f2-b49726099286',\r\n      pluginConfig: {\r\n        ios: {\r\n          badge: true,\r\n          sound: true\r\n        },\r\n        android: {\r\n          iconColor: '#343434'\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts"],"sourceRoot":""}