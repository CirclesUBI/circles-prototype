{"version":3,"sources":["../../src/providers/user-service/user-service.ts","../../src/pages/home/home.ts","../../src/pages/validator-detail/validator-detail.ts","../../src/pages/profile/profile.ts","../../src/providers/storage-service/storage-service.ts","../../src/pages/confirm-modal/confirm-modal.ts","../../src/pages/user-detail/user-detail.ts","../../src/providers/transaction-service/transaction-service.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/providers/auth-service/auth-service.ts","../../src/pages/login/login.ts","../../src/pages/login-email/login-email.ts","../../src/pages/signup-email/signup-email.ts","../../src/pages/search/search.ts","../../src/pages/apply/apply.ts","../../src/pages/send/send.ts","../../src/pages/wallet/wallet.ts","../../src/pages/settings/settings.ts","../../src/pages/welcome/welcome.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/providers/validator-service/validator-service.ts","../../src/providers/news-service/news-service.ts","../../src/components/news-card/news-card.ts","../../src/environments/environment.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable, OnDestroy } from '@angular/core';\n\nimport { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2/database';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport * as firebase from 'firebase/app';\nimport { Observable } from 'rxjs/Observable';\nimport { Subscription } from 'rxjs/Subscription';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nimport 'rxjs/add/operator/find';\nimport 'rxjs/add/operator/map';\n\nimport { User } from '../../interfaces/user-interface';\nimport { Individual } from '../../interfaces/individual-interface';\nimport { Organisation } from '../../interfaces/organisation-interface';\n\nimport { Coin } from '../../interfaces/coin-interface';\n//import { Validator } from '../../interfaces/validator-interface';\nimport { NewsItem } from '../../interfaces/news-item-interface';\n\n@Injectable()\nexport class UserService implements OnDestroy {\n\n  public users: any;\n  public type: string;\n  public authState$: any;\n\n  public initUserSubject$: ReplaySubject<any> = new ReplaySubject<any>(1);\n  public user$: Observable<User>;\n  public userFirebaseObj$: FirebaseObjectObservable<User>;\n  public usersFirebaseList$: FirebaseListObservable<any>;\n  private usersSubject$: ReplaySubject<Array<any>> = new ReplaySubject<Array<any>>(1);\n  public users$ = this.usersSubject$.asObservable();\n\n  private user = {} as User;\n  private userSubject$: ReplaySubject<User> = new ReplaySubject<User>(1);\n\n  private userSub$: Subscription;\n  private usersSub$: Subscription;\n  private combinedSub$: Subscription;\n  private weeklyGrant: number = 100;\n  private myCoins: Coin = {} as Coin;\n  private allCoins: { [key: string]: Coin };\n  private trustedUsers: any;\n\n  constructor(\n    private afAuth: AngularFireAuth,\n    private db: AngularFireDatabase\n  ) {\n\n    this.user.createdAt = 0;\n    this.authState$ = this.afAuth.authState;\n\n    this.usersFirebaseList$ = this.db.list('/users/');\n    this.usersSub$ = this.usersFirebaseList$.subscribe(\n      users => {\n        this.users = [];\n        for (let u of users) {\n          this.users[u.$key] = u.userData;\n        }\n        this.usersSubject$.next(users);\n      },\n      error => console.log('Could not load users.')\n    );\n\n    this.initUserSubject$.take(1).subscribe(\n      initUser => {\n\n        if (!this.isOrg(initUser))\n          this.type = 'individual';\n        else\n          this.type = 'organisation';\n\n        this.user$ = this.userSubject$.asObservable();\n\n        this.userFirebaseObj$ = this.db.object('/users/' + initUser.uid + '/userData');\n        this.userSub$ = this.userFirebaseObj$.subscribe(\n          user => {\n            this.user = user;\n            this.setBalance(user);\n            this.userSubject$.next(this.user);\n          },\n          error => console.log('Could not load current user record.')\n        );\n\n        this.combinedSub$  = Observable.combineLatest(this.userFirebaseObj$, this.usersFirebaseList$).subscribe(\n          (result) => {\n            let user = result[0];\n            let users = result[1];\n\n            if (!this.users) {\n              this.users = [];\n              for (let u of users) {\n                this.users[u.$key] = u.userData;\n              }\n              this.usersSubject$.next(users);\n            }\n\n            if (user.trustedUsers) {\n              this.trustedUsers = user.trustedUsers.map( (uKey:string) => this.keyToUser(uKey));\n            }\n          }\n        );\n      },\n      error => console.log(error),\n      () => {}\n    );\n  }\n\n\n  public createAuthUser(email:string, password:string) {\n    return this.afAuth.auth.createUserWithEmailAndPassword(email, password);\n  }\n\n  public createCirclesUser(formUser): Individual | Organisation {\n\n    formUser.createdAt = firebase.database['ServerValue']['TIMESTAMP'];\n    if (!formUser.authProviders) {\n      formUser.authProviders = [\"email\",\"name\"];\n    }\n    else {\n      formUser.authProviders.push(\"email\");\n      formUser.authProviders.push(\"name\");\n    }\n\n    formUser.agreedToDisclaimer = false;\n\n    if (!this.isOrg(formUser)) {\n      formUser.displayName = formUser.firstName + ' ' + formUser.lastName;\n      this.user = this.setInitialWallet(formUser);\n    }\n    else {\n      this.user = formUser;\n    }\n    return this.user;\n  }\n\n  public keyToUser$(key: string): Observable<User> {\n    return this.users$.map(\n      users => users.find(user => user.uid === key).userData\n    );\n  }\n\n  public keyToUser(key: string): User {\n    let u = this.users[key];\n    if (!u)\n      console.log('Error: missing user '+key);\n    return u;\n  }\n\n  public keyToUserName$(key: string): Observable<string> {\n    return this.users$.map(users => {\n      let u = users.find(user => user.uid === key);\n      return u.displayName;\n    });\n  }\n\n  public keyToUserName(key: string): string {\n    let d = this.users[key];\n    if (!d)\n      console.log('Error: missing user '+key);\n    return d.displayName;\n  }\n\n  public filterUsers$(searchTerm: string) {\n    //if (!searchTerm)\n    //  return Observable.empty(); //todo: should this return an observable(false) or something?\n    return this.users$.map((users) => {\n      users = users.map((userRecord) => {\n        return userRecord.userData;\n      });\n\n      let ret = users.filter((user) => {\n        //let user = userRecord.userData as User;\n        if (!user || !user.displayName || user.displayName == '' || user.uid == 'undefined' || (user.uid == this.user.uid))\n          return false;\n        let s = searchTerm.toLowerCase();\n        let d = user.displayName.toLowerCase();\n        return d.indexOf(s) > -1;\n      });\n      return ret;\n    });\n  }\n\n  public signInEmail(email, password) {\n    return this.afAuth.auth.signInWithEmailAndPassword(email, password);\n  }\n\n  public signInRedirect(provider) {\n    return this.afAuth.auth.signInWithRedirect(provider);\n  }\n\n  public addTrustedUser(userKey) {\n    if (this.user.trustedUsers)\n      this.user.trustedUsers.push(userKey);\n    else\n      this.user.trustedUsers = [userKey];\n\n    this.updateUser({trustedUsers:this.user.trustedUsers});\n  }\n\n  public removeTrustedUser(userKey) {\n    this.user.trustedUsers = this.user.trustedUsers.filter(user => {\n\t     return user != userKey;\n    });\n    this.updateUser({trustedUsers:this.user.trustedUsers});\n  }\n\n  private setInitialWallet(user:Individual): Individual {\n    let now = new Date();\n    let day = now.getDay();\n    let diff = (7 - 5 + day) % 7;\n    let b = this.weeklyGrant - ((this.weeklyGrant / 7) * (diff));\n    this.myCoins.amount = Math.round(b);\n    this.myCoins.owner = user.uid;\n    this.myCoins.title = (user.firstName) ? user.firstName + ' Coin' : 'Circle Coin';\n    //my coins start at the highest priority\n    this.myCoins.priority = 0;\n    this.myCoins.createdAt = now.getTime();\n    this.allCoins = {\n      [user.uid]: this.myCoins\n    };\n    user.wallet = this.allCoins;\n    this.setBalance(user);\n    return user;\n  }\n\n  public setBalance(user:User): void {\n    let total = 0;\n    for (let i in user.wallet) {\n      total += user.wallet[i].amount;\n    }\n    user.balance = total;\n  }\n\n  public signOut() {\n    //todo: better way to do this?\n    if (this.userSub$)\n      this.userSub$.unsubscribe();\n\n    if (this.usersSub$)\n      this.usersSub$.unsubscribe();\n\n    if (this.combinedSub$)\n      this.combinedSub$.unsubscribe();\n\n    return this.afAuth.auth.signOut();\n  }\n\n  private clearUser() {\n    let blankUser = {} as User;\n    this.user = blankUser;\n    // if (this.userSubject$) {\n    //   this.userSubject$.next(blankUser);\n    // }\n  }\n\n  public async updateUser(updateObject: Object) {\n    try {\n      let result = await this.userFirebaseObj$.update(updateObject);\n      console.log('updateUser success');\n    } catch (error) {\n      console.error(error);\n      throw new Error(\"userService updateUser fail\");\n    }\n  }\n\n  public async saveUser() {\n    try {\n      let result = await this.userFirebaseObj$.set(this.user);\n      console.log('saveUser success');\n    } catch (error) {\n      console.error(error);\n      throw new Error(\"userService saveUser fail\");\n    }\n  }\n\n  public isOrg(user: Individual | Organisation): user is Organisation {\n    return (<Organisation>user).address !== undefined;\n  }\n\n  ngOnDestroy() {\n    this.userSub$.unsubscribe();\n    this.usersSub$.unsubscribe();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user-service/user-service.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, Toast, ToastController } from 'ionic-angular';\nimport { NotificationsService } from 'angular2-notifications';\n\nimport { DomSanitizer } from '@angular/platform-browser';\n\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport * as firebase from 'firebase/app';\nimport { Subscription } from 'rxjs/Subscription';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { NewsService } from '../../providers/news-service/news-service';\nimport { ValidatorService } from '../../providers/validator-service/validator-service';\nimport { User } from '../../interfaces/user-interface';\nimport { Individual } from '../../interfaces/individual-interface';\nimport { Organisation } from '../../interfaces/organisation-interface';\n\nimport { SearchPage } from '../search/search';\nimport { UserDetailPage } from '../user-detail/user-detail';\nimport { ValidatorDetailPage } from '../validator-detail/validator-detail';\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n})\nexport class HomePage {\n\n  private toast: Toast;\n  private base64ImageData: string;\n  private user: User;\n  private userSub$: Subscription;\n\n  private selectedView: string = 'network';\n  private view: string = 'network';\n\n  private networkList: Array<any> = [];\n  private newsList: Array<any> = [];\n  private validatorList: Array<any> = [];\n\n  private myCoinBalance: number;\n  private allCoinBalance: number;\n  private myCoinName: string;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private notificationsService: NotificationsService,\n    private db: AngularFireDatabase,\n    private ds: DomSanitizer,\n    private toastCtrl: ToastController,\n    private userService: UserService,\n    private newsService: NewsService,\n    private validatorService: ValidatorService\n  ) { }\n\n  private openSearch(): void {\n    console.log(\"clicked openSearch\");\n    this.navCtrl.push(SearchPage);\n  }\n\n  private goToUserDetail(user): void {\n    this.navCtrl.push(UserDetailPage, user);\n  }\n\n  private goToValidatorDetail(validator): void {\n    this.navCtrl.push(ValidatorDetailPage, validator);\n  }\n\n  private selectNetwork(): void {\n    this.selectedView = 'network';\n  }\n\n  private selectNews(): void {\n    this.selectedView = 'news';\n  }\n\n  private selectValidators(): void {\n    this.selectedView = 'validators';\n  }\n\n  ionViewDidLoad() {\n\n    this.userSub$ = this.userService.user$.subscribe(\n      user => {\n\n        if (!user.agreedToDisclaimer) {\n          //if they got this far then they have agreed to the disclaimer\n          this.userService.updateUser({agreedToDisclaimer:true});\n        }\n\n        if (this.userService.type === 'organisation') {\n          this.user = user as Organisation;\n        }\n        else {\n          this.user = user as Individual;\n          this.myCoinName = user.wallet[user.uid].title;\n          this.myCoinBalance = user.wallet[user.uid].amount;\n          this.allCoinBalance = user.balance;\n        }\n      }\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { NewsService } from '../../providers/news-service/news-service';\nimport { User } from '../../interfaces/user-interface';\n\nimport { ApplyPage } from '../../pages/apply/apply';\n\nimport { Validator } from '../../interfaces/validator-interface';\nimport { ValidatorService } from '../../providers/validator-service/validator-service';\n\nimport { Subscription } from 'rxjs/Subscription';\n\n@Component({\n  selector: 'page-validator-detail',\n  templateUrl: 'validator-detail.html',\n})\nexport class ValidatorDetailPage {\n\n  private user: User;\n  private validator: Validator = {} as Validator;\n  private userSub$: Subscription;\n  private trusted: boolean = false;\n  private applied: boolean = false;\n\n  private trustedUsers: Array<User>;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private userService: UserService,\n    private newsService: NewsService,\n    private validatorService: ValidatorService\n  ) {\n    this.validator = navParams.data;\n  }\n\n  private revokeTrust() {\n    this.validator.trustedUsers.filter(\n      user => user !== this.user.uid\n    );\n    this.trusted = false;\n    this.validatorService.revokeValidation(this.user,this.validator);\n    this.newsService.revokeValidatorTrust(this.validator);\n    this.userService.saveUser();\n    this.validatorService.saveValidator(this.validator);\n  }\n\n  private checkRequirements() {\n    let rqs = this.validatorService.getValidatorRequirements(this.validator, this.user);\n    this.navCtrl.push(ApplyPage, {validator:this.validator, user:this.user, reqs: rqs});\n  }\n\n  ionViewDidLoad() {\n    this.userSub$ = this.userService.user$.subscribe(\n      user => {\n\n        this.user = user;\n        this.trustedUsers = [];\n        this.trusted = false;\n        this.applied = false;\n        if (this.user.validators) {\n          for (let vKey of this.user.validators) {\n            if (this.validator.$key == vKey)\n              this.trusted = true;\n          }\n        }\n        if (this.validator.trustedUsers) {\n          for (let tUserKey of this.validator.trustedUsers) {\n            let u = this.userService.users[tUserKey];\n            this.trustedUsers.push(u);\n          }\n        }\n        if (this.validator.appliedUsers) {\n          if (this.validator.appliedUsers.find(u => u === this.user.uid)) {\n            this.applied = true;\n          }\n        }\n      }\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/validator-detail/validator-detail.ts","import { Component } from '@angular/core';\nimport { Loading, LoadingController, NavController, NavParams, Toast, ToastController } from 'ionic-angular';\nimport { NotificationsService } from 'angular2-notifications';\n\nimport { DomSanitizer } from '@angular/platform-browser';\n\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport * as firebase from 'firebase/app';\nimport 'firebase/storage';\nimport { Subscription } from 'rxjs/Subscription';\nimport { Observable } from 'rxjs/Observable';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { NewsService } from '../../providers/news-service/news-service';\nimport { ValidatorService } from '../../providers/validator-service/validator-service';\nimport { StorageService, UploadImage, UploadFile } from '../../providers/storage-service/storage-service';\nimport { User } from '../../interfaces/user-interface';\nimport { Individual  } from '../../interfaces/individual-interface';\n\nimport { SearchPage } from '../search/search';\nimport { UserDetailPage } from '../user-detail/user-detail';\n\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage {\n\n  private toast: Toast;\n  private base64ImageData: string;\n  private imageBlob: Blob;\n  private profilePicURL: any;\n\n  private userSub$: Subscription;\n  private providers: Array<any>;\n  private user: User = {} as User;\n\n  private loading: Loading;\n  private fileSelected: any;\n  private profilePicUpload: UploadImage | UploadFile;\n\n  constructor(\n    private db: AngularFireDatabase,\n    private ds: DomSanitizer,\n    private loadingCtrl: LoadingController,\n    private navCtrl: NavController,\n    private sanitizer: DomSanitizer,\n    private storageService: StorageService,\n    private toastCtrl: ToastController,\n    private userService: UserService,\n    private validatorService: ValidatorService\n  ) { }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ProfilePage');\n\n    this.userSub$ = this.userService.user$.subscribe(\n      user => {\n        this.user = user;\n        if (this.user.profilePicURL) {\n          this.profilePicURL = this.user.profilePicURL;\n        }\n        this.providers = this.validatorService.userProviders;\n      }\n    );\n  }\n\n  public fileChangeEvent(fileInput: any) {\n    if (fileInput.target.files && fileInput.target.files[0]) {\n\n      var reader = new FileReader();\n      reader.onload = (e) => {\n        let img = new Image;\n        img.src = reader.result;\n        img.onload = ( (file) => {\n\n          this.storageService.resizePicFile(fileInput.target.files, img.height, img.width).subscribe(\n            imageBlob => {\n              this.profilePicURL = URL.createObjectURL(imageBlob);\n              this.base64ImageData = this.profilePicURL.substring(23);\n              this.profilePicUpload = new UploadFile(imageBlob as File, this.user.uid);\n            }\n          );\n        });\n      }\n\n      reader.readAsDataURL(fileInput.target.files[0]);\n    }\n  }\n\n\n  private fileUpload() {\n\n    this.loading = this.loadingCtrl.create({\n      content: 'Uploading ...',\n      //dismissOnPageChange: true\n    });\n    this.loading.present();\n\n    let progressIntervalObs$ = Observable.interval(200).subscribe( () => {\n      this.loading.data.content = this.sanitizer.bypassSecurityTrustHtml(\n        '<p>Saving Profile ...</p><progress value=\"'+this.profilePicUpload.progress+'\" max=\"100\"></progress>'\n      );\n    });\n\n    this.storageService.uploadFile(this.profilePicUpload).then(\n      (profileURL) => {\n        this.user.profilePicURL = profileURL;\n        progressIntervalObs$.unsubscribe();\n        this.loading.dismiss();\n        this.userService.updateUser({profilePicURL:this.user.profilePicURL});\n      },\n      (error) => {\n        progressIntervalObs$.unsubscribe();\n        this.toast = this.toastCtrl.create({\n          message: error.message + ': ' + error.details,\n          duration: 2500,\n          position: 'middle'\n        });\n        console.error(error);\n        this.toast.present();\n      }\n    );\n  }\n\n  private saveProfile() {\n    if (this.userService.type == 'individual') {\n      let u = this.user as Individual;\n      this.user.displayName = u.firstName + ' ' + u.lastName;\n    }\n    else {\n\n    }\n    this.userService.saveUser();\n    this.navCtrl.pop();\n  }\n\n  private gotoProvider (prov) {\n    if (prov.completed)\n      return;\n\n    \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts","import { Injectable } from '@angular/core';\nimport { Toast, ToastController } from 'ionic-angular';\n\nimport { Ng2PicaService } from 'ng2-pica';\nimport * as firebase from 'firebase/app';\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\nimport 'rxjs/add/operator/map';\nimport { Observer } from 'rxjs/Observer';\nimport { Observable } from 'rxjs/Observable';\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nimport { Subject } from 'rxjs/Subject';\n\n\nexport class Upload {\n  $key: string;\n  createdAt: Date = new Date();\n  name: string;\n  owner: string;\n  progress: number;\n  size:number;\n  url: string;\n}\n\nexport class UploadImage extends Upload {\n  base64String: string;\n  constructor(base64String: string, owner:string) {\n    super();\n    this.owner = owner;\n    this.base64String = base64String;\n  }\n}\n\nexport class UploadFile extends Upload {\n  file: File;\n  constructor(file: File, owner:string) {\n    super();\n    this.owner = owner;\n    this.file = file;\n  }\n}\n\n@Injectable()\nexport class StorageService {\n\n  private profilePicRef: any;\n\n  private toast: Toast;\n\n  private uploads: FirebaseListObservable<Upload[]>;\n\n  private progressSubject$: Subject<number> = new Subject(); //3 should add smoothing?!?\n  public progress$: Observable<number>;\n  public loading$: Observer<any>;\n\n  constructor(\n    private db: AngularFireDatabase,\n    private pica: Ng2PicaService,\n    private toastCtrl: ToastController\n  ) {\n    this.profilePicRef = firebase.storage().ref('/profilepics');\n    this.progress$ = this.progressSubject$.asObservable();\n\n    this.uploads = this.db.list('/uploads');\n  }\n\n  resizeAndUploadProfilePic(upload: UploadImage): Promise<any> {\n\n    return this.resizeProfilePic(upload, 1024, 768).then(\n      uploadResized => {\n        return this.uploadFile(uploadResized);\n      }\n    )\n  }\n\n  public resizePicFile(files: File[], sourceHeight:number, sourceWidth:number): Observable<any> { //}: Promise<Upload>{\n\n    let fileList = Array.from(files);\n\n    let maxHeight = 1024;\n    let maxWidth = 768;\n    let h,w;\n\n    if (sourceHeight > sourceWidth) {\n      let ratio = maxHeight/sourceHeight;\n      h = maxHeight;\n      w = sourceWidth * ratio;\n    }\n    else if (sourceWidth >= sourceHeight){\n      let ratio = maxWidth/sourceWidth;\n      w = maxWidth;\n      h = sourceHeight * ratio;\n    }\n\n    return this.pica.resize(fileList, w, h);\n  }\n\n  public async resizeProfilePic(upload: UploadImage, maxHeight:number, maxWidth:number): Promise<Upload>{\n    return new Promise<Upload>((resolve, reject) => {\n\n      let img = new Image;\n      img.src = upload.base64String;\n\n      img.onload = ( (file) => {\n\n        var canvas = document.createElement('canvas');\n        var ctx = canvas.getContext('2d');\n        let h,w;\n\n        ctx.drawImage(img, 0, 0);\n\n        if (img.height > img.width) {\n          let ratio = img.width/img.height;\n          h = maxHeight;\n          w = img.width * ratio;\n        }\n        else if (img.width >= img.height){\n          let ratio = img.height/img.width;\n          w = maxWidth;\n          h = img.height * ratio;\n        }\n\n        var canvas2 = document.createElement('canvas');\n        var ctx2 = canvas.getContext('2d');\n        // We set the dimensions at the wanted size.\n        canvas.width = w;\n        canvas.height = h;\n        this.pica.resizeCanvas(canvas, canvas2, {\n          unsharpAmount: 80,\n          unsharpRadius: 0.6,\n          unsharpThreshold: 2\n        })\n        .then(\n          result => {\n\n          }\n        )\n        resolve(upload);\n      });\n\n      img.onerror = ((error) => {\n        let err = {details:error,message:'Error loading as image'};\n        reject(err);\n      });\n    });\n  }\n\n  public async uploadFile(upload: Upload){\n\n    let uploadTask;\n    if (upload instanceof UploadImage) {\n      let c = this.profilePicRef.child(upload.owner+'.jpg');\n      uploadTask = c.putString(upload.base64String, 'base64', { contentType: 'image/jpg' });\n    }\n    else if (upload instanceof UploadFile) {\n      let c = this.profilePicRef.child(upload.owner+'.jpg');\n      uploadTask = c.put(upload.file);\n    }\n\n    return new Promise<string> ((resolve,reject) => {\n      uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\n        (snapshot) => {\n          upload.progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n          console.log('Upload is ' + upload.progress + '% done');\n          switch (snapshot.state) {\n            case firebase.storage.TaskState.PAUSED: // or 'paused'\n              console.log('Upload is paused');\n              break;\n            case firebase.storage.TaskState.RUNNING: // or 'running'\n              console.log('Upload is running');\n              break;\n          }\n        },\n        (error) => {\n          let err = {details:error,message:'Error uploading image'};\n          reject(err);\n        },\n        () => {\n          // Upload completed successfully, now we can get the download URL\n          console.log('Upload Complete');\n          //upload.progress = 100;\n          let uploadLogEntry = {\n            createdAt: upload.createdAt,\n            name: uploadTask.snapshot.metadata.name,\n            size: uploadTask.snapshot.metadata.size,\n            url:uploadTask.snapshot.downloadURL\n          }\n          this.saveFileData(uploadLogEntry);\n          resolve(uploadTask.snapshot.downloadURL);\n        }\n      );\n    });\n  }\n\n  public isUploadSupported(): boolean {\n    if (navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\\/(1.0|2.0|2.5|3.0))/)) {\n      return false;\n    }\n    var elem = document.createElement('input');\n    elem.type = 'file';\n    return !elem.disabled;\n  }\n\n  // Writes the file details to the realtime db\n  private saveFileData(uploadLogEntry: any) {\n    this.uploads.push(uploadLogEntry);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/storage-service/storage-service.ts","import { Component } from '@angular/core';\nimport { NavParams, ViewController } from 'ionic-angular';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { User } from '../../interfaces/user-interface';\n\n@Component({\n  selector: 'page-confirm-modal',\n  templateUrl: 'confirm-modal.html',\n})\nexport class ConfirmModal {\n\n  private message: string;\n  private title: string;\n\n  constructor(\n    public navParams: NavParams,\n    private viewCtrl: ViewController\n  ) {\n    this.message = navParams.get('message');\n    this.title = navParams.get('title');\n  }\n\n\n  private confirm(decision): void {\n    this.viewCtrl.dismiss(decision).catch((err) => console.log('view was not dismissed: '+err));;\n  }\n\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ConfirmModalPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/confirm-modal/confirm-modal.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { NewsService } from '../../providers/news-service/news-service';\nimport { TransactionService } from '../../providers/transaction-service/transaction-service';\nimport { ValidatorService } from '../../providers/validator-service/validator-service';\nimport { User } from '../../interfaces/user-interface';\nimport { Validator } from '../../interfaces/validator-interface';\n\nimport { Subscription } from 'rxjs/Subscription';\n\nimport { SendPage } from '../send/send';\n\n@Component({\n  selector: 'page-user-detail',\n  templateUrl: 'user-detail.html',\n})\nexport class UserDetailPage {\n\n  private user: User = {} as User;\n  private viewUser: User;\n  private userSub$: Subscription;\n  private trustTo: boolean = false;\n  private trustFrom: boolean = false;\n  private validatorTrust: boolean = false;\n  private trusted: boolean = false;\n  private validatedBy: Validator = {} as Validator;\n\n  private profilePicURL: string;\n\n  constructor(\n    private navCtrl: NavController,\n    public navParams: NavParams,\n    private userService: UserService,\n    private newsService: NewsService,\n    private transactionService: TransactionService,\n    private validatorService: ValidatorService\n  ) {\n    this.viewUser = navParams.data;\n    console.log(navParams.data);\n  }\n\n  private revokeTrust() {\n    this.newsService.revokeUserTrust(this.viewUser);\n    this.userService.removeTrustedUser(this.viewUser.uid);\n  }\n\n  private affordTrust() {\n    this.newsService.addTrust(this.viewUser);\n    this.userService.addTrustedUser(this.viewUser.uid);\n  }\n\n  private sendCircles () {\n    this.navCtrl.push(SendPage, this.viewUser);\n  }\n\n  ionViewDidLoad() {\n    this.userSub$ = this.userService.user$.subscribe(\n      user => {\n        this.user = user;\n        if (this.viewUser.profilePicURL)\n          this.profilePicURL = this.viewUser.profilePicURL;\n        if (this.user.trustedUsers) {\n          this.trustTo = this.user.trustedUsers.some(tUserKey => {\n            return tUserKey == this.viewUser.uid;\n          });\n        }\n        if (this.viewUser.trustedUsers) {\n          this.trusted = this.trustFrom = this.viewUser.trustedUsers.some(tUserKey => {\n            return tUserKey == this.user.uid;\n          });\n        }\n      }\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/user-detail/user-detail.ts","import { Injectable, OnDestroy } from '@angular/core';\n\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\nimport * as firebase from 'firebase/app';\nimport { Subject } from 'rxjs/Subject';\nimport { Subscription } from 'rxjs/Subscription';\nimport 'rxjs/add/operator/map';\n\nimport { NewsService } from '../../providers/news-service/news-service';\nimport { UserService } from '../../providers/user-service/user-service';\nimport { User } from '../../interfaces/user-interface';\nimport { NewsItem } from '../../interfaces/news-item-interface';\nimport { LogItem } from '../../interfaces/log-item-interface';\n\n@Injectable()\nexport class TransactionService implements OnDestroy {\n\n  public transact: Subject<any> = new Subject<any>();\n\n  private user: User;\n  private userSub$: Subscription;\n  private transactionLog$: FirebaseListObservable<LogItem[]>;\n\n  constructor(\n    private db: AngularFireDatabase,\n    private newsService: NewsService,\n    private userService: UserService\n  ) {\n\n    this.userSub$ = this.userService.user$.subscribe(\n      user => this.user = user,\n      error => console.error(error),\n      () => console.log('transaction-service constructor userSub$ obs complete')\n    );\n\n    this.transactionLog$ = this.db.list('/transactions/');\n  }\n\n  private  async transfer(toUser:User, amount:number) {\n\n    amount = Number(amount);\n    let sentCoins = [];\n\n    let trusted = this.getTrustIntersection(this.user, toUser);\n    if (trusted.balance < amount) {\n      //we don't have enough trusted coins\n      return false;\n    }\n    for (let coin of trusted.trustedCoins) {\n      if (amount > coin.amount) {\n        let c = Object.assign({}, coin);;\n        sentCoins[coin.owner] = c;\n        coin.amount = 0;\n      }\n      else {\n        let c = Object.assign({}, coin);\n        c.amount = amount;\n        sentCoins[coin.owner] = c;\n        coin.amount -= amount;\n      }\n    }\n    this.user.balance -= amount;\n\n    //now we need to update the other wallet\n    toUser.balance += amount;\n    for (let key in sentCoins) {\n      if (toUser.wallet[key]) {\n        toUser.wallet[key].amount += sentCoins[key].amount;\n      }\n      else {\n        toUser.wallet[key] = sentCoins[key];\n      }\n    }\n\n    try {\n      await this.db.object('/users/'+toUser.uid+'/userData').update({\n        wallet: toUser.wallet,\n        balance: toUser.balance\n      });\n    }\n    catch (error) {\n      console.error(error);\n      throw new Error(\"Send fail\");\n    }\n    return true;\n  }\n\n  private logTransfer(toUser:User, amount:number):void {\n\n    let logItem = {\n      \"from\" : this.user.uid,\n      \"to\" : toUser.uid,\n      \"timestamp\" : firebase.database['ServerValue']['TIMESTAMP'],\n      \"amount\" : amount\n    } as LogItem;\n\n    //add to the main transaction log\n    this.transactionLog$.push(logItem);\n  }\n\n  public createTransactionIntent(toUserId:string, amount:number, message?:string): Promise<any> {\n    let p = new Promise( (resolve, reject) => {\n      let toUser = this.userService.keyToUser(toUserId);\n      if(this.transfer(toUser, amount)) {\n\n        this.logTransfer(toUser, amount);\n        this.newsService.addTransaction(toUser, amount, message);\n        resolve(true);\n      }\n      else\n        reject(new Error(\"Transfer Failed\"));\n    });\n\n    return p;\n  }\n\n  //which of the receivingUser's trusted coins does the sendingUser have?\n  private getTrustIntersection(sendingUser:User, receivingUser:User) {\n    let returnArray = [];\n    let sum = 0;\n    let rTrusts = receivingUser.trustedUsers as string[];\n\n    if (receivingUser.trustedUsers) {\n      for (let tUserKey of rTrusts) {\n        if (sendingUser.wallet[tUserKey]) {\n          sum += this.user.wallet[tUserKey].amount;\n          let p = this.user.wallet[tUserKey].priority;\n          returnArray[p] = this.user.wallet[tUserKey];\n        }\n      }\n    }\n    return {trustedCoins:returnArray,balance:sum};\n  }\n\n  ngOnDestroy() {\n    this.userSub$.unsubscribe();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/transaction-service/transaction-service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 202;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 202\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 245;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 245\n// module chunks = 0","import { Injectable } from '@angular/core';\nimport 'rxjs/add/operator/map';\n\nimport { NewsService } from '../news-service/news-service';\nimport { UserService } from '../user-service/user-service';\nimport { ValidatorService } from '../validator-service/validator-service';\n\n@Injectable()\nexport class AuthService {\n\n  constructor(\n    private newsService: NewsService,\n    private userService: UserService,\n    private validatorService: ValidatorService\n  ) {\n    console.log('Hello AuthServiceProvider Provider');\n  }\n\n  signOut() {\n    this.newsService.signOut();\n    this.validatorService.signOut();\n\n    this.userService.signOut().then(\n      (user) => {\n        console.log('logout success');\n        //this.nav.setRoot(LoginPage);\n      }, function(error) {\n        console.log('logout fail:', error);\n      });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth-service/auth-service.ts","import { Component } from '@angular/core';\nimport { IonicPage, Loading, LoadingController, NavParams, NavController } from 'ionic-angular';\n\nimport { Observable } from 'rxjs/Observable';\nimport * as firebase from 'firebase/app';\n\nimport { LoginEmailPage } from '../../pages/login-email/login-email';\nimport { SignupEmailPage } from '../../pages/signup-email/signup-email';\nimport { UserService } from '../../providers/user-service/user-service';\nimport { User } from '../../interfaces/user-interface';\n\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n\n  private loading: Loading;\n  private loading2: Loading;\n\n  constructor(\n    private loadingCtrl: LoadingController,\n    private navCtrl: NavController,\n    private userService: UserService\n  ) { }\n\n  private loginFB():void {\n\n    this.loading = this.loadingCtrl.create({\n      content: 'Logging in ...',\n      dismissOnPageChange: true,\n    });\n    this.loading.present();\n\n    var provider = new firebase.auth.FacebookAuthProvider();\n    provider.addScope('public_profile');\n    provider.addScope('email');\n\n    this.userService.signInRedirect(provider);\n  }\n\n  private loginGoogle():void {\n    this.loading = this.loadingCtrl.create({\n      content: 'Logging in ...',\n      dismissOnPageChange: true\n    });\n    var provider = new firebase.auth.GoogleAuthProvider();\n    this.userService.signInRedirect(provider);\n  }\n\n  private loginEmail():void {\n    this.navCtrl.push(LoginEmailPage);\n  }\n\n  private goSignup():void {\n    this.navCtrl.push(SignupEmailPage);\n  }\n\n  ionViewDidLoad() {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from '@angular/core';\nimport { IonicPage, Loading, LoadingController, Toast, ToastController } from 'ionic-angular';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\nimport { AngularFireAuth } from 'angularfire2/auth';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { User } from '../../interfaces/user-interface';\n\n@Component({\n  selector: 'page-login-email',\n  templateUrl: 'login-email.html',\n})\nexport class LoginEmailPage {\n\n  private loginForm: FormGroup;\n  private loading: Loading;\n  private toast: Toast;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private loadingCtrl: LoadingController,\n    private toastCtrl: ToastController,\n    private userService: UserService\n  ) {\n\n    this.loginForm = formBuilder.group({\n      email: [null,  Validators.compose([Validators.required, Validators.email])],\n      password: [null, Validators.required]\n    });\n  }\n\n  private onSubmit(formData: any, formValid: boolean): void {\n    if (!formValid)\n      return;\n\n    this.loading = this.loadingCtrl.create({\n      content: 'Logging In ...',\n      //dismissOnPageChange: true\n    });\n\n    this.loading.present()\n\n    this.userService.signInEmail(\n      formData.email,\n      formData.password\n    ).then(\n      success => {\n        console.log('email auth success');\n        this.loading.dismiss();\n      }).catch(\n      error => {\n        this.toast = this.toastCtrl.create({\n          message: error.toString(),\n          duration: 2500,\n          position: 'middle'\n        });\n        console.error(error);\n        this.loading.dismiss();\n        this.toast.present();\n      });\n\n  }\n\n  ionViewDidLoad() {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login-email/login-email.ts","import { Component } from '@angular/core';\nimport { IonicPage, Loading, LoadingController, Toast, ToastController } from 'ionic-angular';\nimport { FormBuilder, FormGroup, FormControl, Validators } from '@angular/forms';\n\nimport { AngularFireAuth } from 'angularfire2/auth';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { User } from '../../interfaces/user-interface';\nimport { HomePage } from '../home/home';\n\n@Component({\n  selector: 'page-signup-email',\n  templateUrl: 'signup-email.html',\n})\nexport class SignupEmailPage {\n\n  private toast: Toast;\n  private createUserForm: FormGroup;\n  private loading: Loading;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private loadingCtrl: LoadingController,\n    private toastCtrl: ToastController,\n    private userService: UserService\n  ) {\n\n    this.createUserForm = formBuilder.group({\n      email: [null,  Validators.compose([Validators.required, Validators.email])],\n      password1: [null, Validators.required],\n      password2: [null, Validators.required],\n    }, { validator: this.passwordsAreEqual.bind(this) });\n  }\n\n  private onSubmit(formData: any, formValid: boolean): void {\n    if (!formValid)\n      return;\n\n    this.userService.createAuthUser(formData.email,formData.password1).then(\n      (success) => {},\n      (error) => {\n        this.toast = this.toastCtrl.create({\n          message: 'Firebase error: ' + error,\n          duration: 2500,\n          position: 'middle'\n        });\n        console.error(error);\n        this.toast.present();\n      }\n    );\n  }\n\n  private passwordsAreEqual(ctrl: FormControl): any {\n    if (this.createUserForm && this.createUserForm.controls.password1.value) {\n      let valid = this.createUserForm.controls.password1.value == this.createUserForm.controls.password2.value;\n      return valid ? null : { 'passwordsAreEqual': true };\n    }\n  }\n\n  ionViewDidLoad() {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup-email/signup-email.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\n\nimport { FormBuilder, FormGroup, FormControl, Validators, } from '@angular/forms';\n\nimport { Subscription } from 'rxjs/Subscription';\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\n\nimport 'rxjs/add/operator/merge';\nimport 'rxjs/add/observable/combineLatest';\nimport 'rxjs/add/operator/first';\nimport 'rxjs/add/observable/empty';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { ValidatorService } from '../../providers/validator-service/validator-service'\nimport { User } from '../../interfaces/user-interface';\nimport { Validator } from '../../interfaces/validator-interface';\n\nimport { ValidatorDetailPage } from '../validator-detail/validator-detail';\nimport { UserDetailPage } from '../user-detail/user-detail';\n\n@Component({\n  selector: 'page-search',\n  templateUrl: 'search.html',\n})\nexport class SearchPage {\n\n  private searchTerm: string = '';\n  private search$: Observable<any[]>;\n  private searchSubject$: Subject<any[]>;\n  private searchControl: FormControl;\n\n  private toUser: User;\n  private user: User;\n  private userSub$: Subscription;\n\n  constructor(\n    private navCtrl: NavController,\n    private formBuilder: FormBuilder,\n    private userService: UserService,\n    private validatorService: ValidatorService\n  ) {\n\n    this.searchSubject$ = new Subject();\n    this.search$ = this.searchSubject$ as Observable<any>;\n  }\n\n  private setFilteredItems(): void {\n    if (this.searchTerm == '') {\n      this.searchSubject$.next([]);\n      return;\n    }\n\n    let uObs = this.userService.filterUsers$(this.searchTerm);\n    let vObs = this.validatorService.filterValidators$(this.searchTerm);\n    Observable.combineLatest(uObs, vObs).first().subscribe(\n      combined => {\n        let search = [];\n        for (let obj of combined) {\n          if (Array.isArray(obj)) {\n            search = search.concat([...obj]);\n          }\n          else {\n            search = search.concat([obj]);\n          }\n        }\n        this.searchSubject$.next(search);\n      },\n      error => console.log(error),\n      () => {}\n    )\n  }\n\n  private goToDetail(userOrVali): void {\n    if (userOrVali.requirements) {\n      //validator\n      this.navCtrl.push(ValidatorDetailPage, userOrVali);\n    }\n    else {\n      this.navCtrl.push(UserDetailPage, userOrVali);\n    }\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad SearchPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts","import { Component } from '@angular/core';\nimport { Loading, LoadingController, ModalController, NavController, NavParams } from 'ionic-angular';\n\nimport { ValidatorService } from '../../providers/validator-service/validator-service';\nimport { Validator } from '../../interfaces/validator-interface'\nimport { User } from '../../interfaces/user-interface';\nimport { NewsService } from '../../providers/news-service/news-service';\nimport { UserService } from '../../providers/user-service/user-service';\n\nimport { HomePage } from '../../pages/home/home';\nimport { ProfilePage } from '../../pages/profile/profile';\n\nimport { ConfirmModal } from '../../pages/confirm-modal/confirm-modal';\n\n@Component({\n  selector: 'page-apply',\n  templateUrl: 'apply.html',\n})\nexport class ApplyPage {\n\n  private validator: Validator = {} as Validator;\n  private user: User = {} as User;\n  private applied: boolean = false;\n  private requirements: Array<any>;\n  private loading: Loading;\n  private allRequirementsMet: boolean = true;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private modalController: ModalController,\n    private loadingCtrl: LoadingController,\n    private userService: UserService,\n    private validatorService: ValidatorService,\n    private newsService: NewsService\n  ) {\n    this.validator = navParams.get('validator');\n    this.user = navParams.get('user');\n    this.requirements = navParams.get('reqs');\n    for (let r of this.requirements) {\n      if (!r.completed)\n        this.allRequirementsMet = false;\n    }\n    if (this.validator.appliedUsers) {\n      for (let key of this.validator.appliedUsers) {\n        if (this.user.uid == key)\n          this.applied = true;\n      }\n    }\n  }\n\n  private apply() {\n    let msg = \"You are about to apply for validation from  \"+this.validator.displayName;\n    let conf = this.modalController.create(ConfirmModal, { title: 'Confirm Apply', message: msg });\n    conf.present();\n    conf.onDidDismiss((confirm) => {\n\n      if (confirm) {\n        this.loading = this.loadingCtrl.create({\n          content: 'Applying ...'\n        });\n        this.loading.present();\n\n        this.validatorService.applyForValidation(this.user, this.validator);\n        this.newsService.addValidatorTrustRequest(this.validator);\n        if (this.validator.autoAccept) {\n          setTimeout(() => {\n            this.validatorService.completeValidation(this.user, this.validator);\n            this.newsService.addValidatorTrustAccept(this.validator);\n            this.userService.saveUser();\n            this.validatorService.saveValidator(this.validator);\n            this.loading.dismiss();\n            this.navCtrl.pop();\n          }, 2000);\n        }\n        else {\n          this.loading.dismiss();\n          this.navCtrl.pop();\n        }\n        this.userService.saveUser();\n        this.validatorService.saveValidator(this.validator);\n      }\n      else {\n        this.loading.dismiss();\n      }\n    });\n  }\n\n  private gotoProvider (req) {\n    if (req.completed)\n      return;\n\n    if (req.displayName == 'Email' || req.displayName == 'Profile Photo' || req.displayName == 'Name') {\n      this.navCtrl.setRoot(HomePage).then( (res) => {\n        this.navCtrl.push(ProfilePage);\n      });\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ApplyPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/apply/apply.ts","import { Component } from '@angular/core';\nimport { IonicPage, Loading, LoadingController, ModalController, NavController, NavParams, Toast, ToastController } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { FormBuilder, FormGroup, FormControl, Validators, } from '@angular/forms';\n\nimport { Subscription } from 'rxjs/Subscription';\nimport { Observable } from 'rxjs/Observable';\nimport { NotificationsService } from 'angular2-notifications';\nimport 'rxjs/add/operator/debounceTime';\n\nimport { TransactionService } from '../../providers/transaction-service/transaction-service';\nimport { UserService } from '../../providers/user-service/user-service';\nimport { User } from '../../interfaces/user-interface';\n\nimport { ConfirmModal } from '../../pages/confirm-modal/confirm-modal';\n\n@Component({\n  selector: 'page-send',\n  templateUrl: 'send.html',\n})\nexport class SendPage {\n\n  private sendForm: FormGroup;\n  private toUser: User;\n  private user: User;\n  private userSub$: Subscription;\n\n  private loading: Loading;\n  private toast: Toast;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private loadingCtrl: LoadingController,\n    private notificationsService: NotificationsService,\n    private modalController: ModalController,\n    private toastCtrl: ToastController,\n    private transactionService: TransactionService,\n    private userService: UserService,\n    private navCtrl: NavController,\n    private navParams: NavParams\n  ) {\n\n    this.toUser = navParams.data;\n\n    this.sendForm = formBuilder.group({\n      toUserKey: [this.toUser.uid, Validators.required],\n      amount: [null, Validators.required],\n      message: [null]\n    });\n  }\n\n  private onSubmit(formData: any, formValid: boolean): void {\n\n    if (!formValid)\n      return;\n\n    if (this.user.balance < formData.amount) {\n      this.notificationsService.create('Send Fail', '', 'error');\n      let msg = \"You don't have enough Circles!\";\n      this.notificationsService.create('Balance', msg, 'warn');\n      return;\n    }\n\n    let toUserName = this.userService.keyToUserName(formData.toUserKey);\n    let msg = \"You are about to send \"+formData.amount+\" to \"+toUserName;\n    let conf = this.modalController.create(ConfirmModal, { title: 'Confirm Send', message: msg });\n    conf.present();\n    conf.onDidDismiss((confirm) => {\n      if (confirm) {\n        this.loading = this.loadingCtrl.create({\n          content: 'Sending ...'\n        });\n        this.loading.present();\n        if (this.transactionService.createTransactionIntent(formData.toUserKey, formData.amount, formData.message)) {\n          //reset the recipient field\n          this.toUser = null;\n          this.sendForm.reset();\n          this.userService.saveUser();\n          this.loading.dismiss();\n          this.navCtrl.pop();\n        }\n        else {\n          this.loading.dismiss();\n          this.navCtrl.pop()\n        }\n      }\n    });\n  }\n\n  ionViewDidLoad() {\n\n    this.userSub$ = this.userService.user$.subscribe(\n      user => this.user = user,\n      error => {\n        this.toast = this.toastCtrl.create({\n          message: 'Error getting user: '+error,\n          duration: 2500,\n          position: 'middle'\n        });\n        console.error(error);\n        this.toast.present();\n      },\n      () => console.log('send ionViewDidLoad userSub$ obs complete')\n    );\n  }\n\n  ionViewWillUnload() {\n    this.userSub$.unsubscribe();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/send/send.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, Toast, ToastController } from 'ionic-angular';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { Subscription } from 'rxjs/Subscription';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { User } from '../../interfaces/user-interface';\nimport { Coin } from '../../interfaces/coin-interface';\n\n@Component({\n  selector: 'page-wallet',\n  templateUrl: 'wallet.html',\n})\nexport class WalletPage {\n\n  private user: User;\n  private userSub$: Subscription;\n  private toast: Toast;\n  private displayWallet: Array<Coin>;\n\n  constructor(\n    private db: AngularFireDatabase,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private userService: UserService,\n    private toastCtrl: ToastController\n  )\n  { }\n\n  private priorityUp(coin) {\n    coin.priority--;\n    let c1 = this.displayWallet[coin.priority];\n    c1.priority++;\n    this.displayWallet[coin.priority] = coin;\n    this.displayWallet[c1.priority] = c1;\n  }\n\n  private priorityDown(coin) {\n    coin.priority++;\n    let c1 = this.displayWallet[coin.priority];\n    c1.priority--;\n    this.displayWallet[coin.priority] = coin;\n    this.displayWallet[c1.priority] = c1;\n  }\n\n\n  private orderByPriority() {\n    this.displayWallet.sort(\n      (a,b) => {\n        if (a.priority > b.priority) {\n          return 1;\n        }\n\n        if (a.priority < b.priority) {\n         return -1;\n        }\n      return 0;\n    });\n  }\n\n  private async save() {\n    for (let c of this.displayWallet) {\n      this.user.wallet[c.owner] = c;\n    }\n    this.userService.updateUser({wallet:this.user.wallet});\n    this.navCtrl.pop();\n  }\n\n  ionViewDidLoad() {\n\n    console.log('ionViewDidLoad WalletPage');\n\n    this.userSub$ = this.userService.user$.subscribe(\n      user => {\n        this.user = user;\n        this.displayWallet = [];\n        for (let i in this.user.wallet) {\n          let w = Object.assign({},this.user.wallet[i]) as any;\n          w.displayOwner = this.userService.keyToUserName(w.owner);\n          this.displayWallet.push(w);\n        }\n        this.orderByPriority();\n      },\n      error => {\n        this.toast = this.toastCtrl.create({\n          message: 'Error getting user: '+error,\n          duration: 2500,\n          position: 'middle'\n        });\n        console.error(error);\n        this.toast.present();\n      },\n      () => console.log('send ionViewDidLoad userSub$ obs complete')\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/wallet/wallet.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\n\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport * as firebase from 'firebase/app';\nimport { Subscription } from 'rxjs/Subscription';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { User } from '../../interfaces/user-interface';\n\n/**\n * Generated class for the SettingsPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html',\n})\nexport class SettingsPage {\n\n  //vars\n  private base64ImageData: string;\n  private user: User;\n  private userSub$: Subscription;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private userService: UserService) {\n  }\n\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad SettingsPage');\n\n    //load user data\n    this.userSub$ = this.userService.user$.subscribe(\n      user => {\n        this.user = user;\n        console.log(\"user\", user);\n      }\n    );\n\n  }\n\n  saveSettings() {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { Component, ViewChild } from '@angular/core';\nimport { Loading, LoadingController, NavController, NavParams, Slides, Toast, ToastController } from 'ionic-angular';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { DomSanitizer } from '@angular/platform-browser';\n\nimport { FirebaseObjectObservable } from 'angularfire2/database';\nimport { Observable } from 'rxjs/Observable';\nimport \"rxjs/add/observable/interval\";\n\nimport { HomePage } from '../home/home';\nimport { User } from '../../interfaces/user-interface';\nimport { Individual } from '../../interfaces/individual-interface';\nimport { Organisation } from '../../interfaces/organisation-interface';\nimport { StorageService, UploadFile } from '../../providers/storage-service/storage-service';\nimport { UserService } from '../../providers/user-service/user-service';\nimport { NewsService } from '../../providers/news-service/news-service';\n\n@Component({\n  selector: 'page-welcome',\n  templateUrl: 'welcome.html',\n})\nexport class WelcomePage {\n\n  private authUser: any;\n  private userObs$: FirebaseObjectObservable<User>;\n  private toast: Toast;\n\n  private loading: Loading;\n\n  @ViewChild(Slides) welcomeSlider: Slides;\n\n  private formGroups: Array<FormGroup>;\n  private userTypeForm: FormGroup;\n  private individualForm: FormGroup;\n  private organisationForm: FormGroup;\n  private picForm: FormGroup;\n  private disclaimerForm: FormGroup;\n\n  private profilePicUpload: UploadFile;\n\n  private profilePicURL: string = \"https://firebasestorage.googleapis.com/v0/b/circles-testnet.appspot.com/o/profilepics%2FGeneric_Image_Missing-Profile.jpg?alt=media&token=f1f08984-69f3-4f25-b505-17358b437d7a\";\n  private base64ImageData: string;\n\n  private formState = {\n    type: <string>null,\n    submitAttempt: <boolean>false,\n    profilePicRequired: <boolean>false,\n    profilePicSelected: <boolean>false\n  };\n\n  private profilePageViewNames: Array<string> = ['Intro', 'User Type', 'User Info', 'Picture', 'Disclaimer'];\n\n  constructor(\n    private sanitizer: DomSanitizer,\n    private formBuilder: FormBuilder,\n    private loadingCtrl: LoadingController,\n    private navCtrl: NavController,\n    private navParams: NavParams,\n    private newsService: NewsService,\n    private storageService: StorageService,\n    private toastCtrl: ToastController,\n    private userService: UserService\n  ) {\n\n    this.authUser = navParams.get('authUser');\n    this.userObs$ = navParams.get('obs');\n\n    this.userTypeForm = formBuilder.group({\n      type: [null, Validators.required],\n    });\n\n    this.individualForm = formBuilder.group({\n      firstName: [null, Validators.compose([Validators.maxLength(30), Validators.pattern('[a-zA-Z ]*'), Validators.required])],\n      lastName: [null, Validators.compose([Validators.maxLength(30), Validators.pattern('[a-zA-Z ]*'), Validators.required])],\n      email: [this.authUser.email, Validators.email]\n    });\n\n    this.organisationForm = formBuilder.group({\n      organisation: [null, Validators.compose([Validators.maxLength(30), Validators.pattern('[a-zA-Z0-9 ]*'), Validators.required])],\n      tagline: [null, Validators.compose([Validators.maxLength(60)])],\n      website: [null],\n      email: [this.authUser.email, Validators.email]\n    });\n\n    this.picForm = formBuilder.group({\n      profilePicURL: [null, Validators.minLength(24)],\n    });\n\n    this.disclaimerForm = formBuilder.group({\n\n    });\n\n    // Missing array elems are added based on setUserTypeSlides()\n    this.formGroups = [null, this.userTypeForm, null, this.picForm, this.disclaimerForm];\n\n  }\n\n  private onFirstSlideSubmit() {\n    if (this.userTypeForm.controls.type.value)\n      this.setUserTypeSlides();\n    this.welcomeSlider.slideNext();\n  }\n\n  private onSecondSlideSubmit() {\n    this.setUserTypeSlides();\n    this.welcomeSlider.lockSwipeToNext(false);\n    this.welcomeSlider.slideNext();\n  }\n\n  private onSubmit(formData: any, formValid: boolean): void {\n    if (!formValid)\n      return;\n\n    this.welcomeSlider.lockSwipeToNext(false);\n    this.welcomeSlider.slideNext();\n  }\n\n\n  private setUserTypeSlides(): void {\n\n    this.formState.type = this.userTypeForm.controls.type.value;\n\n    //we have the user type so build the formgroup array to fit the form path\n    if (this.formState.type == 'individual') {\n      this.formGroups[2] = this.individualForm;\n    }\n    else {\n      this.formGroups[2] = this.organisationForm;\n    }\n  }\n\n  private onSlideWillChange(): void {\n    // this returns the slide we are going to\n    let i = this.welcomeSlider.getActiveIndex();\n\n    //this will stop users from swiping to the next slide if they have not completed the current one\n    if (this.formGroups[i] && !this.formGroups[i].valid)\n      this.welcomeSlider.lockSwipeToNext(true);\n    else\n      this.welcomeSlider.lockSwipeToNext(false);\n\n  }\n\n  private onSlideDidChange(): void {\n    let i = this.welcomeSlider.getActiveIndex();\n    let slideName = this.profilePageViewNames[i];\n    //this.analytics.trackPageView('Profile Page: ' + slideName);\n  }\n\n\n  public fileChangeEvent(fileInput: any) {\n    if (fileInput.target.files && fileInput.target.files[0]) {\n\n      var reader = new FileReader();\n      reader.onload = (e) => {\n        let img = new Image;\n        img.src = reader.result;\n        img.onload = ( (file) => {\n\n          this.storageService.resizePicFile(fileInput.target.files, img.height, img.width).subscribe(\n            imageBlob => {\n              this.profilePicURL = URL.createObjectURL(imageBlob);\n              this.base64ImageData = this.profilePicURL.substring(23);\n              this.profilePicUpload = new UploadFile(imageBlob as File, this.authUser.uid);\n            }\n          );\n        });\n      }\n\n      reader.readAsDataURL(fileInput.target.files[0]);\n  }\n}\n\n\n  private saveForm(): void {\n\n    this.loading = this.loadingCtrl.create({\n      content: 'Saving Profile ...'\n    });\n    this.loading.present();\n\n    let user = {} as any;\n    user.uid = this.authUser.uid;\n\n    if (this.formState.type === 'individual') {\n      user = user as Individual;\n      user.firstName = this.individualForm.get('firstName').value;\n      user.lastName = this.individualForm.get('lastName').value;\n      user.displayName = user.firstName + ' ' + user.lastName;\n      user.email = this.individualForm.get('email').value || '';\n      user.profilePicURL = this.picForm.get('profilePicURL').value;\n    }\n    else {\n      user = user as Organisation;\n      user.displayName = this.organisationForm.get('organisation').value;\n      user.email = this.organisationForm.get('email').value || '';\n      user.greeting = this.organisationForm.get('tagline').value || '';\n      user.website = this.organisationForm.get('website').value || '';\n      user.profilePicURL = this.picForm.get('profilePicURL').value;\n    }\n\n    if (this.profilePicUpload) {\n\n      let progressIntervalObs$ = Observable.interval(200).subscribe( () => {\n        this.loading.data.content = this.sanitizer.bypassSecurityTrustHtml(\n          '<p>Saving Profile ...</p><progress value=\"'+this.profilePicUpload.progress+'\" max=\"100\"></progress>'\n        )\n      });\n\n      this.storageService.uploadFile(this.profilePicUpload).then(\n        (profileURL) => {\n          user.profilePicURL = profileURL;\n          progressIntervalObs$.unsubscribe();\n          user.authProviders = ['photo'];\n          this.saveUser(user);\n        },\n        (error) => {\n          progressIntervalObs$.unsubscribe();\n          this.toast = this.toastCtrl.create({\n            message: error.message + ': ' + error.details,\n            duration: 2500,\n            position: 'middle'\n          });\n          console.error(error);\n          this.toast.present();\n        }\n      );\n    }\n    else {\n      //save w generic profile pic\n      user.profilePicURL = this.profilePicURL;\n      this.saveUser(user);\n    }\n  }\n\n  private saveUser(formUser) {\n    //sends us back to app.component's auth observer\n\n    let user = this.userService.createCirclesUser(formUser);\n\n    this.userObs$.set({userData:user}).then(\n      (result) => {\n        this.loading.dismiss();\n      },\n      (error) => {\n        this.loading.dismiss();\n        this.toast = this.toastCtrl.create({\n          message: 'Error saving User record: ' + error,\n          duration: 2500,\n          position: 'middle'\n        });\n        console.error(error);\n        this.toast.present();\n      }\n    );\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad WelcomePage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/welcome/welcome.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","//core\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { CirclesApp } from './app.component';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations'\n\n//vendor\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireModule } from 'angularfire2';\nimport { Ng2PicaModule } from 'ng2-pica';\nimport { SimpleNotificationsModule } from 'angular2-notifications';\n\n//pages\nimport { HomePage } from '../pages/home/home';\nimport { ProfilePage } from '../pages/profile/profile';\nimport { SearchPage } from '../pages/search/search';\nimport { UserDetailPage } from '../pages/user-detail/user-detail';\nimport { ValidatorDetailPage } from '../pages/validator-detail/validator-detail';\nimport { LoginPage } from '../pages/login/login';\nimport { LoginEmailPage } from '../pages/login-email/login-email';\nimport { SignupEmailPage } from '../pages/signup-email/signup-email';\nimport { SendPage } from '../pages/send/send';\nimport { ApplyPage } from '../pages/apply/apply';\nimport { WelcomePage } from '../pages/welcome/welcome';\nimport { ConfirmModal } from '../pages/confirm-modal/confirm-modal';\nimport { WalletPage } from '../pages/wallet/wallet';\nimport { SettingsPage } from '../pages/settings/settings';\n\n//components\nimport { NewsCard } from '../components/news-card/news-card';\n\n//services\nimport { StorageService } from '../providers/storage-service/storage-service';\nimport { AuthService } from '../providers/auth-service/auth-service';\nimport { UserService } from '../providers/user-service/user-service';\nimport { TransactionService } from '../providers/transaction-service/transaction-service';\nimport { NewsService } from '../providers/news-service/news-service';\nimport { ValidatorService } from '../providers/validator-service/validator-service';\n\n//configs\nimport { environment } from '../environments/environment';\n\n\n@NgModule({\n  declarations: [\n    ApplyPage,\n    CirclesApp,\n    ConfirmModal,\n    HomePage,\n    LoginEmailPage,\n    LoginPage,\n    NewsCard,\n    ProfilePage,\n    SearchPage,\n    SendPage,\n    SettingsPage,\n    SignupEmailPage,\n    UserDetailPage,\n    ValidatorDetailPage,\n    WalletPage,\n    WelcomePage\n  ],\n  imports: [\n    AngularFireAuthModule,\n    AngularFireDatabaseModule,\n    AngularFireModule.initializeApp(environment.firebase),\n    BrowserAnimationsModule,\n    BrowserModule,\n    IonicModule.forRoot(CirclesApp,{\n        scrollPadding: false,\n        scrollAssist: true,\n        autoFocusAssist: false,\n        mode: 'ios'}), //this will force 'ios' style on all platforms\n    Ng2PicaModule,\n    SimpleNotificationsModule.forRoot()\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    ApplyPage,\n    CirclesApp,\n    ConfirmModal,\n    HomePage,\n    LoginEmailPage,\n    LoginPage,\n    ProfilePage,\n    SearchPage,\n    SendPage,\n    SettingsPage,\n    SignupEmailPage,\n    UserDetailPage,\n    ValidatorDetailPage,\n    WalletPage,\n    WelcomePage\n  ],\n  providers: [\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    AuthService,\n    NewsService,\n    SplashScreen,\n    StatusBar,\n    StorageService,\n    TransactionService,\n    UserService,\n    ValidatorService\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { Loading, LoadingController, Platform, Toast, ToastController } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { AngularFireDatabase, FirebaseObjectObservable } from 'angularfire2/database';\nimport { Subscription } from 'rxjs/Subscription';\n\nimport { AuthService } from '../providers/auth-service/auth-service';\nimport { UserService } from '../providers/user-service/user-service';\n\nimport { LoginPage } from '../pages/login/login';\nimport { HomePage } from '../pages/home/home';\n\nimport { WalletPage } from '../pages/wallet/wallet';\nimport { SettingsPage } from '../pages/settings/settings';\nimport { ProfilePage } from '../pages/profile/profile';\nimport { WelcomePage } from '../pages/welcome/welcome';\n\nvar authUserObs$: FirebaseObjectObservable<any>;\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class CirclesApp {\n  rootPage: any = LoginPage;\n  @ViewChild('content') nav;\n\n  private loading: Loading;\n  private toast: Toast;\n\n  constructor(\n    private afAuth: AngularFireAuth,\n    private db: AngularFireDatabase,\n    private authService: AuthService,\n    private loadingCtrl: LoadingController,\n    private platform: Platform,\n    private splashScreen: SplashScreen,\n    private statusBar: StatusBar,\n    private toastCtrl: ToastController,\n    private userService: UserService,\n  ) {\n    platform.ready().then(() => {\n\n      if (this.platform.is('cordova')) {\n\n      }\n      statusBar.styleDefault();\n      this.userService.authState$.subscribe(\n        auth => {\n          if (auth) {\n            let authUserObs$ = this.db.object('/users/' + auth.uid);\n            let authUserSub$ = authUserObs$.subscribe(\n              user => {\n                if (!user.$exists()) {\n                  this.nav.push(WelcomePage, { authUser: auth, obs: authUserObs$ });\n                }\n                else {\n                  authUserSub$.unsubscribe();\n                  this.userService.initUserSubject$.next(user.userData);\n                  this.nav.setRoot(HomePage);\n                }\n              },\n              error => {\n                this.toast = this.toastCtrl.create({\n                  message: 'Error saving user: ' + error,\n                  duration: 2500,\n                  position: 'middle'\n                });\n                console.error(error);\n                this.toast.present();\n              });\n          }\n          else {\n            this.nav.setRoot(LoginPage);\n          }\n        },\n        error => {\n          this.toast = this.toastCtrl.create({\n            message: 'User auth error: ' + error,\n            duration: 2500,\n            position: 'middle'\n          });\n          console.error(error);\n          this.toast.present();\n        },\n        () => { }\n      );\n    });\n  }\n\n  private goToWallet(): void {\n    this.nav.push(WalletPage);\n  }\n\n  private goToSettings(): void {\n    this.nav.push(SettingsPage);\n  }\n\n  private goToProfile(): void {\n    this.nav.push(ProfilePage);\n  }\n\n  private logout(): void {\n    this.authService.signOut();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable } from '@angular/core';\nimport { NavParams } from 'ionic-angular';\n\nimport { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2/database';\nimport { Subscription } from 'rxjs/Subscription';\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/forkJoin';\nimport 'rxjs/add/operator/map';\n\nimport { UserService } from '../user-service/user-service';\nimport { User } from '../../interfaces/user-interface';\nimport { Validator } from '../../interfaces/validator-interface'\nimport { Provider } from '../../interfaces/provider-interface'\n\n@Injectable()\nexport class ValidatorService {\n\n  private user: User;\n  public validatorsFirebaseObj$: FirebaseListObservable<Validator[]>;\n  public providersFirebaseObj$: FirebaseListObservable<Provider[]>;\n  public validators: Array<Validator>;\n  public validatorArray: Array<Validator>;\n  public initValSubject$: ReplaySubject<any> = new ReplaySubject<any>(1);\n  public validators$: Observable<Validator[]>;\n  public providers$: Observable<Provider[]>;\n  private providers: any;\n\n  public allProviders: {[key: string]: Provider} = {};\n  public allValidators: {[key: string]: Validator} = {};\n  public userProviders: Array<any>;\n  public userValidators: Array<any>;\n  public valRequirements: Array<any>;\n\n  private combinedSub$: Subscription;\n\n  constructor(private db: AngularFireDatabase, private userService: UserService) {\n\n    this.validators$ = this.initValSubject$.asObservable();\n\n    this.validatorsFirebaseObj$ = this.db.list('/validators/');\n    this.providersFirebaseObj$ = this.db.list('/static/authProviders/');\n\n    this.userService.initUserSubject$.take(1).subscribe( initUser => {\n\n      const initStreams = [this.userService.initUserSubject$, this.providersFirebaseObj$, this.validatorsFirebaseObj$];\n\n      const combinator = (user, providers, validators) => {\n\n        this.user = user;\n        this.providers = providers;\n        this.userProviders = [];\n\n        for (let provider of this.providers) {\n          this.allProviders[provider.$key] = provider;\n          let p = Object.assign({}, provider) as any;\n          if (user.authProviders.find(aKey => provider.$key == aKey)) {\n            p.completed = true;\n          }\n          this.userProviders.push(p);\n        }\n\n        this.validators = validators;\n        for (let v of this.validators) {\n          this.allValidators[v.$key] = v;\n        }\n        if (this.user.validators) {\n          this.userValidators = this.user.validators.map( (vKey:string) => this.keyToValidator(vKey));\n        }\n        else {\n          this.userValidators = [];\n        }\n      };\n\n      this.combinedSub$ = Observable.combineLatest(initStreams, combinator).first().subscribe(\n        (result) => console.log('initStreams'),\n        (error) => console.log(error),\n        () => {\n          const userStreams = [this.userService.user$, this.providersFirebaseObj$, this.validatorsFirebaseObj$];\n          this.combinedSub$ = Observable.combineLatest(userStreams, combinator).subscribe(\n            (result) => console.log('userStreams'),\n            (error) => console.log(error),\n            () => console.log('userStreams close')\n          );\n        }\n      );\n    });\n  }\n\n  public initialise () {\n    const initStreams = [this.userService.initUserSubject$, this.providersFirebaseObj$, this.validatorsFirebaseObj$];\n\n    const combinator = (user, providers, validators) => {\n\n      this.user = user;\n      this.providers = providers;\n      this.userProviders = [];\n\n      for (let provider of this.providers) {\n        this.allProviders[provider.$key] = provider;\n        let p = Object.assign({}, provider) as any;\n        if (user.authProviders.find(aKey => provider.$key == aKey)) {\n          p.completed = true;\n        }\n        this.userProviders.push(p);\n      }\n\n      this.validators = validators;\n      for (let v of this.validators) {\n        this.allValidators[v.$key] = v;\n      }\n      if (this.user.validators) {\n        this.userValidators = this.user.validators.map( (vKey:string) => this.keyToValidator(vKey));\n      }\n      else {\n        this.userValidators = [];\n      }\n    };\n  }\n\n  public getUserProviders(user: User) {\n\n    this.userProviders = [];\n    for (let pKey in this.allProviders) {\n      let p = Object.assign({}, this.allProviders[pKey]) as any;\n      if (user.authProviders.find(aKey => pKey == aKey)) {\n        p.completed = true;\n      }\n      this.userProviders.push(p);\n    }\n    return this.userProviders;\n  }\n\n  public getValidatorRequirements(vali: Validator, user: User) {\n    this.valRequirements = [];\n    for (let req of vali.requirements) {\n      let r = Object.assign({}, this.allProviders[req]) as any;\n      if (user.authProviders.find(auth => req == auth)) {\n        r.completed = true;\n      }\n      else {\n        r.completed = false;\n      }\n      this.valRequirements.push(r);\n    }\n    return this.valRequirements;\n  }\n\n  public keyToValidatorName$(key: string): Observable<string> {\n    return this.validatorsFirebaseObj$.map(valis => {\n      let v = valis.find(vali => vali.$key === key);\n      return v.displayName;\n    });\n  }\n\n  public keyToValidatorName(key: string): string {\n    let d = this.allValidators[key];\n    //if (!d)\n      //todo:error message\n    return d.displayName;\n  }\n\n  public keyToValidator$(key: string): Observable<Validator> {\n    return this.validatorsFirebaseObj$.map(valis => {\n      let v = valis.find(vali => vali.$key === key);\n      return v;\n    });\n  }\n\n  public keyToValidator(key: string): Validator {\n    let d = this.allValidators[key];\n    //if (!d)\n      //todo:error message\n    return d;\n  }\n\n  public keyToProvider(key: string): Provider {\n    let d = this.allProviders[key];\n    //if (!d)\n      //todo:error message\n    return d;\n  }\n\n  public filterValidators$(searchTerm: string) {\n    //if (!searchTerm)\n    //  return Observable.empty(); //todo: should this return an observable(false) or something?\n    return this.validatorsFirebaseObj$.map((valis) => {\n      return valis.filter(vali => {\n\n        if (!vali.displayName || vali.$key == 'undefined')\n          return false;\n        let s = searchTerm.toLowerCase();\n        let d = vali.displayName.toLowerCase();\n        return d.indexOf(s) > -1;\n      });\n    });\n  }\n\n  public revokeValidation(user, validator) {\n    if (!validator.trustedUsers) {\n    //todo:error\n    }\n    else {\n      validator.trustedUsers = validator.trustedUsers.filter(userKey => {\n        return userKey !== user.uid;\n      });\n    }\n\n    if (!user.validators) {\n    //todo:error\n    }\n    else {\n      user.validators = user.validators.filter(valiKey => {\n        return valiKey !== validator.$key;\n      });\n    }\n  }\n\n  public applyForValidation(user, validator) {\n    if (!validator.appliedUsers)\n      validator.appliedUsers = [user.uid];\n    else\n      validator.appliedUsers.push(user.uid);\n\n  }\n\n  public completeValidation(user, validator) {\n    if (!validator.appliedUsers) {\n    //todo:error\n    }\n    else {\n      validator.appliedUsers = validator.appliedUsers.filter(userKey => {\n        return userKey !== user.uid;\n      });\n    }\n\n    if (!validator.trustedUsers)\n      validator.trustedUsers = [user.uid];\n    else\n      validator.trustedUsers.push(user.uid);\n\n    if (!user.validators)\n      user.validators = [validator.$key];\n    else\n      user.validators.push(validator.$key);\n\n  }\n\n  public saveValidator(validator: Validator) {\n    this.validatorsFirebaseObj$.update(validator.$key, validator);\n  }\n\n  public signOut() {\n    if (this.combinedSub$)\n      this.combinedSub$.unsubscribe();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/validator-service/validator-service.ts","import { Injectable, OnDestroy } from '@angular/core';\n\nimport { NotificationsService  } from 'angular2-notifications';\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\nimport * as firebase from 'firebase/app';\nimport { Subscription } from 'rxjs/Subscription';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/combineLatest';\nimport 'rxjs/add/operator/take';\nimport 'rxjs/add/operator/isEmpty';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { User } from '../../interfaces/user-interface';\nimport { Individual } from '../../interfaces/individual-interface';\nimport { Organisation } from '../../interfaces/organisation-interface';\nimport { NewsItem } from '../../interfaces/news-item-interface';\nimport { Validator } from '../../interfaces/validator-interface';\n\n@Injectable()\nexport class NewsService implements OnDestroy {\n\n  private user: User;\n\n  private newsItemsFirebaseList$: FirebaseListObservable<NewsItem[]>;\n  private newsItemsSub$: Subscription;\n\n  private newsItemsReversed$: BehaviorSubject<NewsItem[]> = new BehaviorSubject([]);\n  private newsItems$: BehaviorSubject<NewsItem[]> = new BehaviorSubject([]);\n\n  constructor(\n    private db: AngularFireDatabase,\n    private notificationsService: NotificationsService,\n    private userService: UserService\n  ) {\n\n    this.userService.initUserSubject$.take(1).subscribe(\n      initUser => {\n        this.setupDBQuery(initUser.uid);\n        if (!initUser.agreedToDisclaimer)\n          this.addCreateUser(initUser);\n\n        this.userService.user$.subscribe(\n          (user) => this.user = user\n        );\n      },\n      error => console.error(error),\n      () => console.log('news-service constructor user$ obs complete')\n    );\n  }\n\n  private setupDBQuery(uid):void {\n    // sets up a db list binding that will initially return all messages from the last\n    // two minutes and then any added to the list after that.\n    this.newsItemsFirebaseList$ = this.db.list('/users/' + uid + '/news/');\n    let twoMinsAgo = Date.now() - 120000;\n    this.newsItemsFirebaseList$.$ref\n      .orderByChild('timestamp')\n      .startAt(twoMinsAgo)\n      .on('child_added', (firebaseObj,index) => {\n        let latestNewsItem = firebaseObj.val();\n        //receiving from someone\n        if (latestNewsItem.type == 'transaction' && latestNewsItem.to == uid) {\n          let fromUser = this.userService.keyToUser(latestNewsItem.from);\n          let msg = 'Receieved ' + latestNewsItem.amount + ' Circles from ' + fromUser.displayName;\n          this.notificationsService.create('Transaction', msg, 'info');\n        }\n      });\n      this.newsItemsFirebaseList$.subscribe(this.newsItems$);\n\n      this.newsItemsSub$ = this.newsItemsFirebaseList$.subscribe(\n        newsitems => {\n          let rev = newsitems.sort((a,b) => a.timestamp < b.timestamp ? 1 : -1);\n          this.newsItemsReversed$.next(rev);\n        },\n        error => {\n          console.log(\"Firebase Error: \" + error);\n        },\n        () => console.log('news-service setupDBQuery newsItemsSub$ obs complete')\n      );\n  }\n\n  public get allNewsItems$(): BehaviorSubject<NewsItem[]> {\n    return this.newsItems$;\n  }\n\n  public get allnewsItemsReversed$(): BehaviorSubject<NewsItem[]> {\n    return this.newsItemsReversed$;\n  }\n\n  public addTransaction(toUser:User, amount:number, message?:string):void {\n    //this will only be called for sending to someone else\n    let newsItem = {\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\n      from: this.user.uid,\n      amount: amount,\n      to: toUser.uid,\n      type: 'transaction',\n      message: message || ''\n    } as NewsItem;\n    this.newsItemsFirebaseList$.push(newsItem);\n\n    this.db.list('/users/'+toUser.uid+'/news/').push(newsItem);\n\n  }\n\n\n  public addValidatorTrustRequest(validator: Validator):void {\n\n    let msg = 'You applied for validation from: ' +validator.displayName;\n    this.notificationsService.create('Apply', msg, 'info');\n\n    let newsItem = {\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\n      from: validator.$key,\n      type: 'validatorRequest'\n    } as NewsItem;\n    this.newsItemsFirebaseList$.push(newsItem);\n  }\n\n  public addCreateUser(initUserData: Individual | Organisation):void {\n    let msg = 'Welcome to Circles ' +initUserData.displayName +'!';\n    this.notificationsService.create('User Created', msg, 'success');\n\n    let n = {\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\n      type: 'createAccount'\n    } as NewsItem;\n    this.newsItemsFirebaseList$.push(n);\n\n    if (this.userService.type == 'organisation') {\n      let n2 = {\n        timestamp: firebase.database['ServerValue']['TIMESTAMP'],\n        type: 'issuance',\n        amount: initUserData.balance,\n        coinTitle: initUserData.wallet[initUserData.uid].title\n      } as NewsItem;\n      this.newsItemsFirebaseList$.push(n2);\n    }\n  }\n\n  public addValidatorTrustAccept(validator: Validator):void {\n\n    let msg = 'You have been validated by: ' +validator.displayName;\n    this.notificationsService.create('Validation', msg, 'success');\n\n    let newsItem = {\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\n      from: validator.$key,\n      type: 'validatorAccept'\n    } as NewsItem;\n    this.newsItemsFirebaseList$.push(newsItem);\n  }\n\n  public addTrust(user: User):void {\n\n    let msg = 'You have started trusting: ' +user.displayName;\n    this.notificationsService.create('Trust', msg, 'info');\n\n    let newsItem = {\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\n      to: user.uid,\n      type: 'trustUser'\n    } as NewsItem;\n    this.newsItemsFirebaseList$.push(newsItem);\n  }\n\n  public revokeUserTrust(user: User):void {\n\n    let msg = 'You have stopped trusting: ' +user.displayName;\n    this.notificationsService.create('Revoke', msg, 'warn');\n\n    let newsItem = {\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\n      to: user.uid,\n      type: 'revokeUser'\n    } as NewsItem;\n    this.newsItemsFirebaseList$.push(newsItem);\n  }\n\n  public revokeValidatorTrust(vali: Validator):void {\n\n    let msg = 'You are no longer validated by: ' +vali.displayName;\n    this.notificationsService.create('Revoke', msg, 'warn');\n\n    let newsItem = {\n      timestamp: firebase.database['ServerValue']['TIMESTAMP'],\n      to: vali.$key,\n      type: 'revokeValidator'\n    } as NewsItem;\n    this.newsItemsFirebaseList$.push(newsItem);\n  }\n\n  public signOut() {\n    if (this.newsItemsSub$)\n      this.newsItemsSub$.unsubscribe();\n  }\n\n  ngOnDestroy () {\n    this.newsItemsSub$.unsubscribe();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/news-service/news-service.ts","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { Toast, ToastController } from 'ionic-angular';\n\nimport { Subscription } from 'rxjs/Subscription';\n\nimport { UserService } from '../../providers/user-service/user-service';\nimport { ValidatorService } from '../../providers/validator-service/validator-service'\nimport { User } from '../../interfaces/user-interface';\nimport { NewsItem } from '../../interfaces/news-item-interface';\n\n\n@Component({\n  selector: 'news-card',\n  templateUrl: 'news-card.html'\n})\nexport class NewsCard implements OnDestroy, OnInit {\n\n  @Input('newsItem') newsItem: NewsItem;\n  private user: User;\n  private title: string;\n  private message: string;\n  private itemIcon: string;\n  private userSub$: Subscription;\n\n  private profilePicURL: string;\n\n  private toast: Toast;\n\n  constructor(\n    private toastCtrl: ToastController,\n    private userService: UserService,\n    private validatorService: ValidatorService\n  ) { }\n\n  ngOnInit() {\n    this.userSub$ = this.userService.user$.subscribe(\n      user => {\n        this.user = user;\n      },\n      error => {\n        this.toast = this.toastCtrl.create({\n          message: 'Error getting user: ' + error,\n          duration: 2500,\n          position: 'middle'\n        });\n        console.error(error);\n        this.toast.present();\n      },\n      () => console.log('news-card ngOnInit userSub$ obs complete')\n    );\n\n    if (this.newsItem.type == 'createAccount') {\n      this.title = \"Account Creation\";\n      this.itemIcon = \"add-circle\";\n      this.message = \"Your Circles account was created!\";\n      this.profilePicURL = this.user.profilePicURL;\n    }\n    else if (this.newsItem.type == 'transaction' && this.newsItem.from == this.user.uid) {\n      this.title = \"Sent Circles\";\n      this.itemIcon = \"arrow-dropright-circle\";\n      let user = this.userService.keyToUser(this.newsItem.to);\n      this.profilePicURL = user.profilePicURL;\n      this.message = `${this.newsItem.amount} Circles to ${user.displayName}`;\n    }\n    else if (this.newsItem.type == 'transaction' && this.user.uid == this.newsItem.to) {\n      this.title = \"Received Circles\";\n      this.itemIcon = \"arrow-dropleft-circle\";\n      let user = this.userService.keyToUser(this.newsItem.from);\n      this.profilePicURL = user.profilePicURL;\n      this.message = `${this.newsItem.amount} Circles from ${user.displayName}`;\n      }\n\n    else if (this.newsItem.type == 'validatorRequest') {\n      this.title = \"Validator Request\";\n      this.itemIcon = \"help-circle\";\n      let validator = this.validatorService.keyToValidator(this.newsItem.from);\n      this.profilePicURL = validator.profilePicURL;\n      this.message = `Requested validation from: ${validator.displayName}`;\n    }\n    else if (this.newsItem.type == 'validatorAccept') {\n      this.title = \"Validator Accept\";\n      this.itemIcon = \"checkmark-circle\";\n      let validator = this.validatorService.keyToValidator(this.newsItem.from);\n      this.profilePicURL = validator.profilePicURL;\n      this.message = `Validated by: ${validator.displayName}`;\n    }\n    else if (this.newsItem.type == 'revokeValidator') {\n      this.title = \"Revoke Validation\";\n      this.itemIcon = \"close-circle\";\n      let validator = this.validatorService.keyToValidator(this.newsItem.to);\n      this.profilePicURL = validator.profilePicURL;\n      this.message = `No longer validated by ${validator.displayName}`;\n    }\n    else if (this.newsItem.type == 'trustUser') {\n      this.title = \"Trust Afforded\";\n      this.itemIcon = \"checkmark-circle\";\n      let user = this.userService.keyToUser(this.newsItem.to);\n      this.profilePicURL = user.profilePicURL;\n      this.message = `Afforded trust to: ${user.displayName}`;\n    }\n    else if (this.newsItem.type == 'revokeUser') {\n      this.title = \"Revoke Trust\";\n      this.itemIcon = \"close-circle\";\n      let user = this.userService.keyToUser(this.newsItem.to);\n      this.profilePicURL = user.profilePicURL;\n      this.message = `Stopped trusting: ${user.displayName}`;\n    }\n    else if (this.newsItem.type == 'issuance') {\n      this.title = \"Issuance\";\n      this.itemIcon = \"cash\";\n      this.message = `Issued ${this.newsItem.amount} ${this.newsItem.coinTitle}s`;\n      this.profilePicURL = this.user.profilePicURL;\n    }\n  }\n  ngOnDestroy() {\n    this.userSub$.unsubscribe();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/news-card/news-card.ts","export const environment = {\n  production: true,\n  firebase: {\n    apiKey: 'AIzaSyD-qk6NzF4sTQwqvgTSzl6z-tUH4Wd7PXc',\n    authDomain: 'circles-testnet.firebaseapp.com',\n    databaseURL: 'https://circles-testnet.firebaseio.com',\n    projectId: 'circles-testnet',\n    storageBucket: 'circles-testnet.appspot.com',\n    messagingSenderId: '551885395202'\n  },\n  googleAnalytics: {\n    id: 'UA-80367144-2'\n  },\n  cloudSettings: {\n    core: {\n      fcm_key: 'AAAAgH7u1QI:APA91bGwrBmTvZtLJKuzfeR_dP4x_wQm0LCMKR_IQWUwZSam3aCmqSGQ14txad1RlZaXSvly0F_Hte2pAHPSZaSOC63HMPojgQlxv1gIGUT7Z052G9IBVzmQ2Q5kFFljCY2KgdugPZ8-',\n      app_id: '742b9e39'\n    },\n    push: {\n      sender_id: '551885395202',\n      app_id: 'ec89dac3-9e63-4670-97f2-b49726099286',\n      pluginConfig: {\n        ios: {\n          badge: true,\n          sound: true\n        },\n        android: {\n          iconColor: '#343434'\n        }\n      }\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts"],"sourceRoot":""}